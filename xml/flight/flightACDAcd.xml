<!-- $Header: /nfs/slac/g/glast/ground/cvs/xmlGeoDbs/xml/flight/flightACDAcd.xml,v 1.34 2007/08/15 22:50:16 jrb Exp $ -->
<!--  ACD geometry for flight instrument -->

<!-- Scale tile dimensions for operating temperature. July 20, 2005 -->
<!-- But *don't* scale Z dimension of side tiles except for bottom row.  
     Shrinkage of other tiles makes no difference in real instrument
     because of shingling.                   Oct 17, 2005 

     Nov 05.   Tiles in a top row are all at the same Z and all of the 
     same thickness. Row 2 is lowest and is only row with thick tiles.  
     Rows 1 and 3 are at the same Z, higher than row 2. Rows 0 and 4 are
     the highest.
 -->
<!-- e.g. row 0, col 0 -->
<box name="topTileRedgeCedge"
     XREF="topTileXEdge_lOp"
     YREF="topTileYEdge_lOp"
     ZREF="tileThicknessOp"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>

<!-- row 1, col 0 -->
<box name="topTileRmidCedge"
     XREF="topTileXEdge_lOp"
     YREF="topTileYMid_lOp"
     ZREF="tileThicknessOp"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>


<!-- e.g. row 2, col 0 -->

<box name="topTileRcentCedge"
     XREF="topTileXEdge_lOp"
     YREF="topTileYCentral_lOp"
     ZREF="tileCenterThicknessOp"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>


<!-- e.g. row 0, col 1 -->
<box name="topTileRedgeCmid"
     XREF="topTileXMid_lOp"
     YREF="topTileYEdge_lOp"
     ZREF="tileThicknessOp"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>

<!-- row 1, col 1 -->
<box name="topTileRmidCmid"
     XREF="topTileXMid_lOp"
     YREF="topTileYMid_lOp"
     ZREF="tileThicknessOp"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>

<!-- e.g. row 2, col 1 -->
<box name="topTileRcentCmid"
     XREF="topTileXMid_lOp"
     YREF="topTileYCentral_lOp"
     ZREF="tileCenterThicknessOp"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>


<!-- row 0, col 2 -->
<box name="topTileRedgeCcent"
     XREF="topTileXCentral_lOp"
     YREF="topTileYEdge_lOp"
     ZREF="tileThicknessOp"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>

<!-- row 1, col 2 -->
<box name="topTileRmidCcent"
     XREF="topTileXCentral_lOp"
     YREF="topTileYMid_lOp"
     ZREF="tileThicknessOp"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>


<!-- row 2, column 2 -->
<box name="topTileRcentCcent"
     XREF="topTileXCentral_lOp"
     YREF="topTileYCentral_lOp"
     ZREF="tileCenterThicknessOp"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>

<!-- Extra boxes located adjacent to bottom (outer edge) of top tiles in 
     rows 0 and 4 to simulate a bent tile.                            -->
<box name="topTileCentBent"
     XREF="topTileXCentral_lOp"
     YREF="tileThicknessOp"
     ZREF="topTileBentZOp"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>

<box name="topTileMidBent"
     XREF="topTileXMid_lOp"
     YREF="tileThicknessOp"
     ZREF="topTileBentZOp"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>

<box name="topTileEdgeBent"
     XREF="topTileXEdge_lOp"
     YREF="tileThicknessOp"
     ZREF="topTileBentZOp"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>

<!-- Definition of screw and screw hole volumes -->
<!-- screw stuff -->
<!-- Make 4 little composition volumes: each is a vacuum cylinder with a part
     of a screw in it.
          * part of screw embedded in normal-thickness tile
          * part of screw embedded in thick tile
          * part of screw sticking out of normal-thickness tile
          * part of screw sticking out of thick tile
 -->
     <tubs name="ACDScrewNormal" ROutREF="ACDScrewRad" ZREF="tileThicknessOp"
           materialREF="ACDScrewMat" />

     <tubs name="ACDScrewNormalEnv" ROutREF="ACDHoleRad" ZREF="tileThicknessOp"
           materialREF="vacuumMat" />

     <composition name="ACDScrewNormalVol" envelope="ACDScrewNormalEnv" >
        <posXYZ volume="ACDScrewNormal" />
     </composition>

     <tubs name="ACDScrewThick" ROutREF="ACDScrewRad" 
           ZREF="tileCenterThicknessOp"
           materialREF="ACDScrewMat" />

     <tubs name="ACDScrewThickEnv" ROutREF="ACDHoleRad" 
           ZREF="tileCenterThicknessOp"
           materialREF="vacuumMat" />

     <composition name="ACDScrewThickVol" envelope="ACDScrewThickEnv" >
        <posXYZ volume="ACDScrewThick" />
     </composition>

<!--   extra pieces of screw extending beyond tile, not used yet (June 07) 
       Need to define derived constants screwExtLen, screwExtThickLen first
-->
<!--  
     <tubs name="ACDScrewExt" ROutREF="ACDScrewRad" ZREF="screwExtLen"
           materialREF="ACDScrewMat" />

     <tubs name="ACDScrewExtEnv" ROutREF="ACDHoleRad" ZREF="screwExtLen"
           materialREF="vacuumMat" />

     <composition name="ACDScrewExtVol" envelope="ACDScrewExtEnv" >
        <posXYZ volume="ACDScrewExt" />
     </composition>

     <tubs name="ACDScrewExtThick" ROutREF="ACDScrewRad" 
           ZREF="screwExtThickLen"
           materialREF="ACDScrewMat" />

     <tubs name="ACDScrewExtThickEnv" ROutREF="ACDHoleRad" 
           ZREF="screwExtThickLen"
           materialREF="vacuumMat" />

     <composition name="ACDScrewExtThickVol" envelope="ACDScrewExtThickEnv" >
        <posXYZ volume="ACDScrewExtThick" />
     </composition>
-->

<!-- Now define some top tiles with screws -->
    <!-- e.g. row 0, col 0 -->
    <composition name="tile_f0r0c0" envelope="topTileRedgeCedge">
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r0c0ul_dx"
              YREF="screw_f0r0c0ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r0c0ur_dx"
              YREF="screw_f0r0c0ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r0c0dl_dx"
              YREF="screw_f0r0c0dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r0c0dr_dx"
              YREF="screw_f0r0c0dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
    </composition>

    <!-- Row 0, col 1 -->
    <composition name="tile_f0r0c1" envelope="topTileRedgeCmid">
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r0c1ul_dx"
              YREF="screw_f0r0c1ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r0c1ur_dx"
              YREF="screw_f0r0c1ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r0c1dl_dx"
              YREF="screw_f0r0c1dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r0c1dr_dx"
              YREF="screw_f0r0c1dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
       
    </composition>

    <!-- Row 0, col 2 -->
    <composition name="tile_f0r0c2" envelope="topTileRedgeCcent">
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r0c2ul_dx"
              YREF="screw_f0r0c2ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r0c2ur_dx"
              YREF="screw_f0r0c2ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r0c2dl_dx"
              YREF="screw_f0r0c2dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r0c2dr_dx"
              YREF="screw_f0r0c2dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
       
    </composition>


    <!-- Row 0, col 3 -->
    <composition name="tile_f0r0c3" envelope="topTileRedgeCmid">
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r0c3ul_dx"
              YREF="screw_f0r0c3ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r0c3ur_dx"
              YREF="screw_f0r0c3ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r0c3dl_dx"
              YREF="screw_f0r0c3dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r0c3dr_dx"
              YREF="screw_f0r0c3dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
       
    </composition>

<!-- row 0, col 4 -->
    <composition name="tile_f0r0c4" envelope="topTileRedgeCedge">
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r0c4ul_dx"
              YREF="screw_f0r0c4ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r0c4ur_dx"
              YREF="screw_f0r0c4ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r0c4dl_dx"
              YREF="screw_f0r0c4dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r0c4dr_dx"
              YREF="screw_f0r0c4dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
    </composition>

<!-- row 1 col 0 -->
    <composition name="tile_f0r1c0" envelope="topTileRmidCedge">
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r1c0ul_dx"
              YREF="screw_f0r1c0ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r1c0ur_dx"
              YREF="screw_f0r1c0ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r1c0dl_dx"
              YREF="screw_f0r1c0dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r1c0dr_dx"
              YREF="screw_f0r1c0dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
       
    </composition>

<!-- row 1 col 1 -->
    <composition name="tile_f0r1c1" envelope="topTileRmidCmid">
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r1c1ul_dx"
              YREF="screw_f0r1c1ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r1c1ur_dx"
              YREF="screw_f0r1c1ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r1c1dl_dx"
              YREF="screw_f0r1c1dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r1c1dr_dx"
              YREF="screw_f0r1c1dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
       
    </composition>

<!-- row 1 col 2 -->
    <composition name="tile_f0r1c2" envelope="topTileRmidCcent">
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r1c2ul_dx"
              YREF="screw_f0r1c2ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r1c2ur_dx"
              YREF="screw_f0r1c2ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r1c2dl_dx"
              YREF="screw_f0r1c2dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r1c2dr_dx"
              YREF="screw_f0r1c2dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
       
    </composition>

<!-- row 1 col 3 -->
    <composition name="tile_f0r1c3" envelope="topTileRmidCmid">
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r1c3ul_dx"
              YREF="screw_f0r1c3ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r1c3ur_dx"
              YREF="screw_f0r1c3ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r1c3dl_dx"
              YREF="screw_f0r1c3dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r1c3dr_dx"
              YREF="screw_f0r1c3dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
       
    </composition>


<!-- row 1 col 4 -->
    <composition name="tile_f0r1c4" envelope="topTileRmidCedge">
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r1c4ul_dx"
              YREF="screw_f0r1c4ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r1c4ur_dx"
              YREF="screw_f0r1c4ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r1c4dl_dx"
              YREF="screw_f0r1c4dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r1c4dr_dx"
              YREF="screw_f0r1c4dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
       
    </composition>

<!-- row 2 col 0 -->
    <composition name="tile_f0r2c0" envelope="topTileRcentCedge">
      <posXYZ volume="ACDScrewThick" 
              XREF="screw_f0r2c0ul_dx"
              YREF="screw_f0r2c0ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewThick" 
              XREF="screw_f0r2c0ur_dx"
              YREF="screw_f0r2c0ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewThick" 
              XREF="screw_f0r2c0dl_dx"
              YREF="screw_f0r2c0dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewThick" 
              XREF="screw_f0r2c0dr_dx"
              YREF="screw_f0r2c0dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
       
    </composition>

<!-- row 2 col 1 -->
    <composition name="tile_f0r2c1" envelope="topTileRcentCmid">
      <posXYZ volume="ACDScrewThick" 
              XREF="screw_f0r2c1ul_dx"
              YREF="screw_f0r2c1ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewThick" 
              XREF="screw_f0r2c1ur_dx"
              YREF="screw_f0r2c1ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewThick" 
              XREF="screw_f0r2c1dl_dx"
              YREF="screw_f0r2c1dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewThick" 
              XREF="screw_f0r2c1dr_dx"
              YREF="screw_f0r2c1dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
       
    </composition>


<!-- row 2 col 2 -->
    <composition name="tile_f0r2c2" envelope="topTileRcentCcent">
      <posXYZ volume="ACDScrewThick" 
              XREF="screw_f0r2c2ul_dx"
              YREF="screw_f0r2c2ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewThick" 
              XREF="screw_f0r2c2ur_dx"
              YREF="screw_f0r2c2ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewThick" 
              XREF="screw_f0r2c2dl_dx"
              YREF="screw_f0r2c2dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewThick" 
              XREF="screw_f0r2c2dr_dx"
              YREF="screw_f0r2c2dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
       
    </composition>

<!-- row 2 col 3 -->
    <composition name="tile_f0r2c3" envelope="topTileRcentCmid">
      <posXYZ volume="ACDScrewThick" 
              XREF="screw_f0r2c3ul_dx"
              YREF="screw_f0r2c3ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewThick" 
              XREF="screw_f0r2c3ur_dx"
              YREF="screw_f0r2c3ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewThick" 
              XREF="screw_f0r2c3dl_dx"
              YREF="screw_f0r2c3dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewThick" 
              XREF="screw_f0r2c3dr_dx"
              YREF="screw_f0r2c3dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
       
    </composition>

<!-- row 2 col 4 -->
    <composition name="tile_f0r2c4" envelope="topTileRcentCedge">
      <posXYZ volume="ACDScrewThick" 
              XREF="screw_f0r2c4ul_dx"
              YREF="screw_f0r2c4ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewThick" 
              XREF="screw_f0r2c4ur_dx"
              YREF="screw_f0r2c4ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewThick" 
              XREF="screw_f0r2c4dl_dx"
              YREF="screw_f0r2c4dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewThick" 
              XREF="screw_f0r2c4dr_dx"
              YREF="screw_f0r2c4dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
       
    </composition>

<!-- row 3 col 0 -->
    <composition name="tile_f0r3c0" envelope="topTileRmidCedge">
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r3c0ul_dx"
              YREF="screw_f0r3c0ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r3c0ur_dx"
              YREF="screw_f0r3c0ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r3c0dl_dx"
              YREF="screw_f0r3c0dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r3c0dr_dx"
              YREF="screw_f0r3c0dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
    </composition>

<!-- row 3 col 1 -->
    <composition name="tile_f0r3c1" envelope="topTileRmidCmid">
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r3c1ul_dx"
              YREF="screw_f0r3c1ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r3c1ur_dx"
              YREF="screw_f0r3c1ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r3c1dl_dx"
              YREF="screw_f0r3c1dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r3c1dr_dx"
              YREF="screw_f0r3c1dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
    </composition>

<!-- row 3 col 2 -->
    <composition name="tile_f0r3c2" envelope="topTileRmidCcent">
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r3c2ul_dx"
              YREF="screw_f0r3c2ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r3c2ur_dx"
              YREF="screw_f0r3c2ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r3c2dl_dx"
              YREF="screw_f0r3c2dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r3c2dr_dx"
              YREF="screw_f0r3c2dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
    </composition>


<!-- row 3 col 3 -->
    <composition name="tile_f0r3c3" envelope="topTileRmidCmid">
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r3c3ul_dx"
              YREF="screw_f0r3c3ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r3c3ur_dx"
              YREF="screw_f0r3c3ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r3c3dl_dx"
              YREF="screw_f0r3c3dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r3c3dr_dx"
              YREF="screw_f0r3c3dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
    </composition>

<!-- row 3 col 4 -->
    <composition name="tile_f0r3c4" envelope="topTileRmidCedge">
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r3c4ul_dx"
              YREF="screw_f0r3c4ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r3c4ur_dx"
              YREF="screw_f0r3c4ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r3c4dl_dx"
              YREF="screw_f0r3c4dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r3c4dr_dx"
              YREF="screw_f0r3c4dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
    </composition>

<!-- row 4 col 0 -->
    <composition name="tile_f0r4c0" envelope="topTileRedgeCedge">
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r4c0ul_dx"
              YREF="screw_f0r4c0ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r4c0ur_dx"
              YREF="screw_f0r4c0ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r4c0dl_dx"
              YREF="screw_f0r4c0dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r4c0dr_dx"
              YREF="screw_f0r4c0dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
       
    </composition>

<!-- row 4 col 1 -->
    <composition name="tile_f0r4c1" envelope="topTileRedgeCmid">
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r4c1ul_dx"
              YREF="screw_f0r4c1ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r4c1ur_dx"
              YREF="screw_f0r4c1ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r4c1dl_dx"
              YREF="screw_f0r4c1dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r4c1dr_dx"
              YREF="screw_f0r4c1dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
    </composition>

<!-- row 4 col 2 -->
    <composition name="tile_f0r4c2" envelope="topTileRedgeCcent">
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r4c2ul_dx"
              YREF="screw_f0r4c2ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r4c2ur_dx"
              YREF="screw_f0r4c2ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r4c2dl_dx"
              YREF="screw_f0r4c2dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r4c2dr_dx"
              YREF="screw_f0r4c2dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
    </composition>

<!-- row 4 col 3 -->
    <composition name="tile_f0r4c3" envelope="topTileRedgeCmid">
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r4c3ul_dx"
              YREF="screw_f0r4c3ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r4c3ur_dx"
              YREF="screw_f0r4c3ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r4c3dl_dx"
              YREF="screw_f0r4c3dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r4c3dr_dx"
              YREF="screw_f0r4c3dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
    </composition>


<!-- row 4 col 4 -->
    <composition name="tile_f0r4c4" envelope="topTileRedgeCedge">
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r4c4ul_dx"
              YREF="screw_f0r4c4ul_dy">
        <idField name="fACDScrewOrInset" value="0" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r4c4ur_dx"
              YREF="screw_f0r4c4ur_dy">
        <idField name="fACDScrewOrInset" value="1" />
      </posXYZ>
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r4c4dl_dx"
              YREF="screw_f0r4c4dl_dy">
        <idField name="fACDScrewOrInset" value="2" />
      </posXYZ>
      
      <posXYZ volume="ACDScrewNormal" 
              XREF="screw_f0r4c4dr_dx"
              YREF="screw_f0r4c4dr_dy">
        <idField name="fACDScrewOrInset" value="3" />
      </posXYZ>
       
    </composition>
       

<!-- Boxes for top ribbons. Y ribbons just have one top piece -->
<box name="yRibbonTop"
     XREF="yRibbonTop_l"
     YREF="ribbonWidth"
     ZREF="ribbonThickness"
     materialREF="ribbonMat"
     sensitive="posHit"
     detectorTypeREF="eDTypeACDRibbon" />

<!-- X ribbons (perp. to x-axis) have 5 segments extending in Y of 3
    distinct lengths and 4 little vertical segments of 2 different lengths-->

<box name="xRibbonTopEdge"
     XREF="ribbonWidth"
     YREF="xRibbonTopEdge_l"
     ZREF="ribbonThickness"
     materialREF="ribbonMat"
     sensitive="posHit"
     detectorTypeREF="eDTypeACDRibbon" />

<box name="xRibbonTopMid"
     XREF="ribbonWidth"
     YREF="xRibbonTopMid_l"
     ZREF="ribbonThickness"
     materialREF="ribbonMat"
     sensitive="posHit"
     detectorTypeREF="eDTypeACDRibbon" />

<box name="xRibbonTopCent"
     XREF="ribbonWidth"
     YREF="xRibbonTopCent_l"
     ZREF="ribbonThickness"
     materialREF="ribbonMat"
     sensitive="posHit"
     detectorTypeREF="eDTypeACDRibbon" />

<box name="xRibbonTopVertNear"
     XREF="ribbonWidth"
     YREF="ribbonThickness"
     ZREF="xRibbonTopVertNear_l"
     materialREF="ribbonMat"
     sensitive="posHit"
     detectorTypeREF="eDTypeACDRibbon" />

<box name="xRibbonTopVertFar"
     XREF="ribbonWidth"
     YREF="ribbonThickness"
     ZREF="xRibbonTopVertFar_l"
     materialREF="ribbonMat"
     sensitive="posHit"
     detectorTypeREF="eDTypeACDRibbon" />

<!-- next assemble these pieces (25 top tiles, 4 long (Y-)ribbons
     running parallel to X-axis and 4 (X-)ribbons, each broken into
     5 segments, running parallel to Y-axis. First make
     an envelope volume             -->
<!-- Done except for completing definition of ACDTop.
However, new scheme does not include a composition: just locate
components directly in LATInner.  See guts of this in flightACDTop.xml
-->



<!-- different box needed for each of the 4 rows of side tiles on X sides 
     and Y sides (X and Y sides have same tile dimensions.  Unfortunately,
     there are two different transverse-size/column mappings, one for
     sides 1 and 4 and another for sides 2 and 3.)
      and for each of 3 transverse positions
      except for bottom row which has just 1 long tile,
      so 10 different box definitions altogether with thickness in Y;
      another 10, identical except for a rotation, have thickness in X
      uniformly with tranverse dimension = x -->
<!-- 3 boxes for side row 0 -->

<box name="sideTileR0EdgeLesser" 
     XREF="sideTileTransLesserOp"
     YREF="tileThicknessOp"
     ZREF="sideTileHeight0Op"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>

<box name="sideTileR0EdgeLesserXFace" 
     XREF="tileThicknessOp"
     YREF="sideTileTransLesserOp"
     ZREF="sideTileHeight0Op"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>

<box name="sideTileR0Mid" 
     XREF="sideTileTransMidOp"
     YREF="tileThicknessOp"
     ZREF="sideTileHeight0Op"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>

<box name="sideTileR0MidXFace" 
     XREF="tileThicknessOp"
     YREF="sideTileTransMidOp"
     ZREF="sideTileHeight0Op"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>



<box name="sideTileR0EdgeGreater" 
     XREF="sideTileTransGreaterOp"
     YREF="tileThicknessOp"
     ZREF="sideTileHeight0Op"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>

<box name="sideTileR0EdgeGreaterXFace" 
     XREF="tileThicknessOp"
     YREF="sideTileTransGreaterOp"
     ZREF="sideTileHeight0Op"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>



<!--  will become     XREF="sideTileR1TransLesserOp"   -->
<!-- 3 boxes for side row 1 -->
<box name="sideTileR1EdgeLesser" 
     XREF="sideTileR1TransLesserOp"
     YREF="tileThicknessOp"
     ZREF="sideTileHeight1Op"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>

<box name="sideTileR1EdgeLesserXFace" 
     XREF="tileThicknessOp"
     YREF="sideTileR1TransLesserOp"
     ZREF="sideTileHeight1Op"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>



<box name="sideTileR1Mid" 
     XREF="sideTileTransMidOp"
     YREF="tileThicknessOp"
     ZREF="sideTileHeight1Op"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>

<box name="sideTileR1MidXFace" 
     XREF="tileThicknessOp"
     YREF="sideTileTransMidOp"
     ZREF="sideTileHeight1Op"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>



<box name="sideTileR1EdgeGreater" 
     XREF="sideTileTransGreaterOp"
     YREF="tileThicknessOp"
     ZREF="sideTileHeight1Op"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>

<box name="sideTileR1EdgeGreaterXFace" 
     XREF="tileThicknessOp"
     YREF="sideTileTransGreaterOp"
     ZREF="sideTileHeight1Op"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>


<!--       side row 2 -->
<box name="sideTileR2EdgeLesser" 
     XREF="sideTileTransLesserOp"
     YREF="tileThicknessOp"
     ZREF="sideTileHeight2Op"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>

<box name="sideTileR2EdgeLesserXFace" 
     XREF="tileThicknessOp"
     YREF="sideTileTransLesserOp"
     ZREF="sideTileHeight2Op"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>


<box name="sideTileR2Mid" 
     XREF="sideTileTransMidOp"
     YREF="tileThicknessOp"
     ZREF="sideTileHeight2Op"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>

<box name="sideTileR2MidXFace" 
     XREF="tileThicknessOp"
     YREF="sideTileTransMidOp"
     ZREF="sideTileHeight2Op"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>


<box name="sideTileR2EdgeGreater" 
     XREF="sideTileTransGreaterOp"
     YREF="tileThicknessOp"
     ZREF="sideTileHeight2Op"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>

<box name="sideTileR2EdgeGreaterXFace" 
     XREF="tileThicknessOp"
     YREF="sideTileTransGreaterOp"
     ZREF="sideTileHeight2Op"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile"/>

<!-- will become sideTileR3TransOp  -->
<!-- was XREF="ACDTotalTransSideOp" -->
<box name="sideTileR3" 
     XREF="sideTileR3TransOp"
     YREF="tileThicknessOp"
     ZREF="sideTileHeight3Op"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile" />

<box name="sideTileR3XFace" 
     XREF="tileThicknessOp"
     YREF="sideTileR3TransOp"
     ZREF="sideTileHeight3Op"
     materialREF="tileMat"
     sensitive="posHit" 
     detectorTypeREF="eDTypeACDTile" />

<!-- Side ribbons used to all be congruent.  Define one with width in x,
     thickness in y.  Rotate for the opposite. 
     Well, actually they're not.  X ribbons are longer than
     Y ribbons.  And neither goes all the way to the bottom of the
     side tiles: they're about 30 mm short.  Tiles go down to
     -45.5 mm; ribbons go down to -15.67.
     Also (Jan 06) define extra side ribbon piece to go behind bent tiles.
-->
<box name="sideRibbon"
     XREF="ribbonWidth"
     YREF="ribbonThickness"
     ZREF="ribbonsSideZ"
     materialREF="ribbonMat"
     sensitive="posHit"
     detectorTypeREF="eDTypeACDRibbon" />

<box name="ribbonBent"
     XREF="ribbonWidth"
     YREF="ribbonThickness"
     ZREF="ribbonBentZ"
     materialREF="ribbonMat"
     sensitive="posHit"
     detectorTypeREF="eDTypeACDRibbon" />

<!-- May '07 Define all the new pieces of vertical ribbons with dimensions
     such that they do not require any 90-degree rotations to be
     correct for the LAT global coordinate system.  Ribbon thickness
     may be any of X, Y or Z for the box, depending which ribbon it's
     for.  In some cases two volumes will be defined which differ
     only by a rotation.
-->

<box name="xRibbonSideVert0" 
     XREF="ribbonWidth"
     YREF="ribbonThickness"
     ZREF="xRibbonSideVert0_l"
     materialREF="ribbonMat"
     sensitive="posHit"
     detectorTypeREF="eDTypeACDRibbon" />
     
<box name="yRibbonSideVert0" 
     XREF="ribbonThickness"
     YREF="ribbonWidth"
     ZREF="yRibbonSideVert0_l"
     materialREF="ribbonMat"
     sensitive="posHit"
     detectorTypeREF="eDTypeACDRibbon" />

<box name="xRibbonSideVert1" 
     XREF="ribbonWidth"
     YREF="ribbonThickness"
     ZREF="ribbonSideVert1_l"
     materialREF="ribbonMat"
     sensitive="posHit"
     detectorTypeREF="eDTypeACDRibbon" />
     
<box name="yRibbonSideVert1" 
     XREF="ribbonThickness"
     YREF="ribbonWidth"
     ZREF="ribbonSideVert1_l"
     materialREF="ribbonMat"
     sensitive="posHit"
     detectorTypeREF="eDTypeACDRibbon" />
     
<box name="xRibbonSideVert2" 
     XREF="ribbonWidth"
     YREF="ribbonThickness"
     ZREF="ribbonSideVert2_l"
     materialREF="ribbonMat"
     sensitive="posHit"
     detectorTypeREF="eDTypeACDRibbon" />

<box name="yRibbonSideVert2" 
     XREF="ribbonThickness"
     YREF="ribbonWidth"
     ZREF="ribbonSideVert2_l"
     materialREF="ribbonMat"
     sensitive="posHit"
     detectorTypeREF="eDTypeACDRibbon" />

<box name="xRibbonSideVert3" 
     XREF="ribbonWidth"
     YREF="ribbonThickness"
     ZREF="ribbonSideVert3_l"
     materialREF="ribbonMat"
     sensitive="posHit"
     detectorTypeREF="eDTypeACDRibbon" />

<box name="yRibbonSideVert3" 
     XREF="ribbonThickness"
     YREF="ribbonWidth"
     ZREF="ribbonSideVert3_l"
     materialREF="ribbonMat"
     sensitive="posHit"
     detectorTypeREF="eDTypeACDRibbon" />

<!-- Transverse bits in Y-measuring ribbons are all congruent. X-measuring
     ribbons have this kind as well as a longer transverse piece under
     bent tiles.  Define both as if they were part of X-measuring ribbons.
     That is, ribbon width is in X-dimension, length in y, thickness in Z 
     ribbonSideTrans0 is the special X-only one; ribbonSideTrans is the
     standard kind used in all side ribbons. -->
<box name="xRibbonSideTrans0" 
     XREF="ribbonWidth"
     YREF="ribbonSideTrans0_l"
     ZREF="ribbonThickness"
     materialREF="ribbonMat"
     sensitive="posHit"
     detectorTypeREF="eDTypeACDRibbon" />

<box name="xRibbonSideTrans" 
     XREF="ribbonWidth"
     YREF="ribbonSideTrans_l"
     ZREF="ribbonThickness"
     materialREF="ribbonMat"
     sensitive="posHit"
     detectorTypeREF="eDTypeACDRibbon" />

<box name="yRibbonSideTrans" 
     XREF="ribbonSideTrans_l"
     YREF="ribbonWidth"
     ZREF="ribbonThickness"
     materialREF="ribbonMat"
     sensitive="posHit"
     detectorTypeREF="eDTypeACDRibbon" />


<!-- Make rows for faces 2 & 3) with lesser trans. dimension first.
     Side 2 rotated +90 about Z is isomorphic to side 3, but we don't
     do it that way anymore.  Build face 3 rows separately with a stackY
     for each
 -->
<stackX name="sideTileRow0Face2" >
  <axisPos volume="sideTileR0EdgeLesser">
    <idField name="fCol" value="0" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR0Mid" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="1" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR0Mid" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="2" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR0Mid" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="3" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR0EdgeGreater" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="4" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
</stackX>

<stackY name="sideTileRow0Face3" >
  <axisPos volume="sideTileR0EdgeLesserXFace">
    <idField name="fCol" value="0" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR0MidXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="1" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR0MidXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="2" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR0MidXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="3" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR0EdgeGreaterXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="4" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
</stackY>

<stackX name="sideTileRow1Face2" >
  <axisPos volume="sideTileR1EdgeLesser">
    <idField name="fCol" value="0" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR1Mid" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="1" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR1Mid" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="2" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR1Mid" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="3" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR1EdgeGreater" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="4" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
</stackX>

<stackY name="sideTileRow1Face3" >
  <axisPos volume="sideTileR1EdgeLesserXFace">
    <idField name="fCol" value="0" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR1MidXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="1" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR1MidXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="2" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR1MidXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="3" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR1EdgeGreaterXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="4" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
</stackY>


<stackX name="sideTileRow2Face2" >
  <axisPos volume="sideTileR2EdgeLesser">
    <idField name="fCol" value="0" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR2Mid" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="1" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR2Mid" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="2" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR2Mid" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="3" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR2EdgeGreater" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="4" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
</stackX>

<stackY name="sideTileRow2Face3" >
  <axisPos volume="sideTileR2EdgeLesserXFace">
    <idField name="fCol" value="0" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR2MidXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="1" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR2MidXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="2" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR2MidXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="3" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR2EdgeGreaterXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="4" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
</stackY>

<stackX name="sideTileRowR3" >
  <axisPos volume="sideTileR3">
    <idField name="fCol" value="0" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
</stackX>

<stackY name="sideTileRowR3XFace" >
  <axisPos volume="sideTileR3XFace">
    <idField name="fCol" value="0" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
</stackY>

<!-- Do same for sides 1 and 4 
     Side 4 rotated +90 about Z is isomorphic to side 1. -->
<stackX name="sideTileRow0Face4" >
  <axisPos volume="sideTileR0EdgeGreater">
    <idField name="fCol" value="0" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR0Mid" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="1" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR0Mid" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="2" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR0Mid" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="3" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR0EdgeLesser" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="4" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
</stackX>

<stackY name="sideTileRow0Face1" >
  <axisPos volume="sideTileR0EdgeGreaterXFace">
    <idField name="fCol" value="0" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR0MidXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="1" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR0MidXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="2" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR0MidXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="3" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR0EdgeLesserXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="4" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
</stackY>

<stackX name="sideTileRow1Face4" >
  <axisPos volume="sideTileR1EdgeGreater">
    <idField name="fCol" value="0" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR1Mid" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="1" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR1Mid" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="2" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR1Mid" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="3" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR1EdgeLesser" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="4" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
</stackX>

<stackY name="sideTileRow1Face1" >
  <axisPos volume="sideTileR1EdgeGreaterXFace">
    <idField name="fCol" value="0" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR1MidXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="1" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR1MidXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="2" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR1MidXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="3" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR1EdgeLesserXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="4" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
</stackY>


<stackX name="sideTileRow2Face4" >
  <axisPos volume="sideTileR2EdgeGreater">
    <idField name="fCol" value="0" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR2Mid" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="1" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR2Mid" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="2" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR2Mid" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="3" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR2EdgeLesser" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="4" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
</stackX>

<stackY name="sideTileRow2Face1" >
  <axisPos volume="sideTileR2EdgeGreaterXFace">
    <idField name="fCol" value="0" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR2MidXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="1" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR2MidXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="2" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR2MidXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="3" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
  <axisPos volume="sideTileR2EdgeLesserXFace" gapREF="sideHorizontalGap" >
    <idField name="fCol" value="4" />
    <idField name="fTileSeg" value="0" />
  </axisPos>
</stackY>

<!-- Each row will be positioned independently in flightSection.  Ugh -->

<!-- Make envelope for side of ribbons.  Has X as long dimension
     so will contain ribbons measuring X.  Can rotate for Y-ribbons -->
<box name="xRibbonsEnv"
     XREF="ribbonsSideWidth"
     YREF="ribbonThickness"
     ZREF="ribbonsSideZ"
     materialREF="vacuumMat"
 />

<!-- Make a composition for one side's worth of ribbons -->
<composition name="sideRibbons" envelope="xRibbonsEnv" >
  <posXYZ volume="sideRibbon"
          XREF="xRibbonOuter_dxn" >
    <idField name="fRibbon" value="0" />
    <idField name="fRibbonSegment" value="0" />    

  </posXYZ>

  <posXYZ volume="sideRibbon"
          XREF="xRibbonInner_dxn" >
    <idField name="fRibbon" value="1" />
    <idField name="fRibbonSegment" value="0" />    
  </posXYZ>
  <posXYZ volume="sideRibbon"
          XREF="xRibbonInner_dx" >
    <idField name="fRibbon" value="2" />
    <idField name="fRibbonSegment" value="0" />    
  </posXYZ>
  <posXYZ volume="sideRibbon"
          XREF="xRibbonOuter_dx" >
    <idField name="fRibbon" value="3" />
    <idField name="fRibbonSegment" value="0" />    
  </posXYZ>
</composition>

<!-- Make boxes for ACD supports.  Old scheme treated X- and Y- sides
     differently.  Now (July '03) we follow 3-d model and dovetail
     side supports. However we simplify by just defining two face sheet
     boxes: one for top and one for sides. -->
<box name="ACDTopSupportCore" 
  XREF="ACDTopCoreTrans"
  YREF="ACDTopCoreTrans"
  ZREF="ACDTopCoreThickness"
  materialREF="ACDSupportCoreMat" />

<box name="ACDTopSupportFace" 
  XREF="ACDTopCoreTrans"
  YREF="ACDTopCoreTrans"
  ZREF="ACDFaceThickness"
  materialREF="ACDSupportFaceMat" />

<!-- the following side boxes have long dimension along Y-axis.  
     When positioned as is (no rotation) requires large X-displacement -->
<box name="ACDSideSupportCore" 
  XREF="ACDSideCoreThickness"
  YREF="ACDSideCoreTrans"
  ZREF="ACDSideCoreZ"
  materialREF="ACDSupportCoreMat" />

<box name="ACDSideSupportFace" 
  XREF="ACDFaceThickness"
  YREF="ACDSideCoreTrans"
  ZREF="ACDSideCoreZ"
  materialREF="ACDSupportFaceMat" />


<!-- Stack to form 2 support (logical) volumes.The side logical
     volume is positioned 4 times (2 of them rotated by 90 degrees)
     to make 5 physical support volumes -->
<stackZ name="ACDTopSupport" >
  <axisPos volume="ACDTopSupportFace" />
  <axisPos volume="ACDTopSupportCore" />
  <axisPos volume="ACDTopSupportFace" />
</stackZ>

<!-- Stack in X to make volume at more or less constant X.  This
     will be positioned with a large (+ and -) X displacement.  Then rotate
     and position at large Y displacementse.  -->
<stackX name="ACDSideSupport" >
  <axisPos volume="ACDSideSupportFace"  />
  <axisPos volume="ACDSideSupportCore"  />
  <axisPos volume="ACDSideSupportFace"  />
</stackX>
