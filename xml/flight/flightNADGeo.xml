<!-- $Header: /nfs/slac/g/glast/ground/cvs/xmlGeoDbs/xml/flight/flightNADGeo.xml,v 1.3 2006/05/08 22:32:19 jrb Exp $ -->
<!-- Define boxes, etc. not belonging to any detector -->

<!-- Define boxes for blanket:  top, X-side and Y-side 
     X-sides (Y-sides) are perp. to x-axis (y-axis).
     Top is done in three pieces: inside crown, can use
     solid box.  Then stacked on top (not using stack element though)
      two (square) rings: MMS material minus a vacuum box. -->
    <!-- first define simple interior-to-crown piece -->
    <box name="NADBlanketTopInterior"      
         XREF="NADBlanketTopInteriorTrans"
         YREF="NADBlanketTopInteriorTrans"
         ZREF="NADBlanketTopThick"
         materialREF="blanketMat" >
    </box>

    <!-- Next do top piece -->
    <box name="blanketTopTopSolid"      
         XREF="NADBlanketTopTrans"
         YREF="NADBlanketTopTrans"
         ZREF="NADBlanketTopThick"
         materialREF="blanketMat" >
    </box>
    <box name="blanketTopTopHole"
         XREF="NADBlanketTopHoleTrans"
         YREF="NADBlanketTopHoleTrans"
         ZREF="NADBlanketTopThick"
         materialREF="vacuumMat" >
    </box>
    <composition name="NADBlanketTopTop" envelope="blanketTopTopSolid" >
      <posXYZ volume="blanketTopTopHole" />
    </composition>

    <!-- Middle piece, also a composition. -->
    <box name="blanketTopMidSolid"
         XREF="NADBlanketTopInteriorTrans"
         YREF="NADBlanketTopInteriorTrans"
         ZREF="NADBlanketTopMidZ"
         materialREF="blanketMat"  >
    </box>

    <box name="blanketTopMidHole" 
         XREF="NADBlanketTopHoleTrans"
         YREF="NADBlanketTopHoleTrans"
         ZREF="NADBlanketTopMidZ"  
         materialREF="vacuumMat" >
    </box>

    <composition name="NADBlanketTopMid" envelope="blanketTopMidSolid" >
      <posXYZ volume="blanketTopMidHole" />
    </composition>
    
    <box name="blanketYSide" 
         XREF="NADBlanketSideY_l" YREF="NADBlanketSideThick" 
         ZREF="NADBlanketSideZ" materialREF="blanketMat" >
    </box>
      
    <box name="blanketXSide" 
         XREF="NADBlanketSideThick" YREF="NADBlanketSideX_l" 
         ZREF="NADBlanketSideZ" materialREF="blanketMat" >
    </box>
      
<!-- define cylinder for spacecraft -->
    <tubs name="spacecraft" ROutREF="NADSpacecraftR" ZREF="NADSpacecraftZ"
          materialREF="spacecraftMat" />


<!-- Define grid pieces.  There will be 4 per-tower
    grid web pieces and 4 per-tower grid flange pieces.  Then
    when all 16 towers have been assembled, will need to add on
    4 extra pieces of each type since width of grid around the
    outside is greater than the internal half-widths -->
    <box name="towerGridFlangeLong" 
      XREF="NADGridLenLong" YREF="NADGridFlangeInnerHalf" 
      ZREF="NADGridFlangeZ" 
      materialREF="CALGridMat">
    </box>

    <box name="towerGridFlangeShort" 
      XREF="NADGridFlangeLenShort" YREF="NADGridFlangeInnerHalf" 
         ZREF="NADGridFlangeZ" 
         materialREF="CALGridMat">
    </box>
    <box name="towerGridWebLong" 
      XREF="NADGridLenLong" YREF="NADGridWebInnerHalf" 
      ZREF="NADGridWebZ" 
      materialREF="CALGridMat">
    </box>

    <box name="towerGridWebShort" 
      XREF="NADGridWebLenShort" YREF="NADGridWebInnerHalf" 
         ZREF="NADGridWebZ" 
         materialREF="CALGridMat">
    </box>

<!-- Large grid flange boxes -->
    <box name="LATGridFlangeShort" 
         XREF="NADGridFlangeOutsideLenShort"
         YREF="NADGridFlangeOutsideWidth"
         ZREF="NADGridFlangeZ"
         materialREF="CALGridMat" />

    <box name="LATGridFlangeLong" 
         XREF="NADGridFlangeWidth"
         YREF="NADGridFlangeOutsideWidth"
         ZREF="NADGridFlangeZ"
         materialREF="CALGridMat" />

<!-- Large grid web boxes -->
    <box name="LATGridWebShort" 
         XREF="NADGridWebOutsideLenShort"
         YREF="NADGridWebOutsideWidth"
         ZREF="NADGridWebZ"
         materialREF="CALGridMat" />

    <box name="LATGridWebLong" 
         XREF="NADGridWebWidth"
         YREF="NADGridWebOutsideWidth"
         ZREF="NADGridWebZ"
         materialREF="CALGridMat"  />

<!-- Electronics boxes -->
     <box name="TEM" 
         XREF="NADtem_t"
         YREF="NADtem_t"
         ZREF="NADtem_z"
         materialREF="TEMMat" />

     <box name="GASU" 
         XREF="NADgasu_x"
         YREF="NADgasu_y"
         ZREF="NADgasu_z"
         materialREF="GASUMat" />

     <box name="PDU" 
         XREF="NADpdu_x"
         YREF="NADpdu_y"
         ZREF="NADpdu_z"
         materialREF="PDUMat" />

    <box name="SIU" 
         XREF="NADsiu_t"
         YREF="NADsiu_t"
         ZREF="NADsiu_z"
         materialREF="SIUMat" />

    <box name="EPU" 
         XREF="NADepu_t"
         YREF="NADepu_t"
         ZREF="NADepu_z"
         materialREF="EPUMat" />

    <box name="HIB" 
         XREF="NADhib_t"
         YREF="NADhib_t"
         ZREF="NADhib_z"
         materialREF="HIBMat" />


<!-- Define primitive volumes needed for solar panels -->
    <box name="solarPanelSiBox"
         XREF="NADSolarPWidth"
         YREF="NADSolarPLength"
         ZREF="NADSolarSiThick"
         materialREF="solarPanelMat" />

    <box name="solarPanelCoreBox"
         XREF="NADSolarPWidth"
         YREF="NADSolarPLength"
         ZREF="NADSolarCoreThick"
         materialREF="solarCoreMat" />

    <tubs name="solarRod" 
          ROutREF="NADSolarRodR"
          ZREF="NADSolarRodLength"
          materialREF="solarRodMat" />

<!-- A solar panel has  a silicon plane layered with a
     plane of core material and a rod connecting the layers to the
     spacecraft. -->
    <box name="solarEnv"
         XREF="NADSolarPWidth"
         YREF="NADTotalPanelLen"
         ZREF="NADSolarRodDiam" />

    <!-- Make the logical panel oriented properly for positive Y side.  
         Will have to rotate for the -Y panel -->
    <composition name="solarPanel" envelope="solarEnv">
      <posXYZ volume="solarPanelSiBox"
           YREF="solarPanel_dy"
           ZREF="solarPanelSi_dz" >
        <idField name="fPanelObjects" valueREF="eSolarPanelSi" />
      </posXYZ>
      <posXYZ volume="solarPanelCoreBox"
           YREF="solarPanel_dy"
           ZREF="solarPanelCore_dz" >   
        <idField name="fPanelObjects" valueREF="eSolarPanelCore" />
      </posXYZ>
      <posXYZ volume="solarRod" 
           xrot="90"
           YREF="solarRod_dy"  >
        <idField name="fPanelObjects" valueREF="eSolarPanelRod" />
      </posXYZ>
    </composition>

    <!-- Make boxes for primary structure -->
    <!-- One or both of material and thickness is likely to change -->
    <box name="primaryStructureCorner"
       XREF="SCCornerSide"
       YREF="SC_thick"
       ZREF="SC_z" 
       materialREF="SCStructMat"
    />

<!-- Box for sides parallel to x- or y-axis -->
    <box name="primaryStructureMain"
       XREF="SCBigSide"
       YREF="SC_thick"
       ZREF="SC_z" 
       materialREF="SCStructMat"
    />


<!-- Make propellant tank of titanium and fill with hydrazine -->
    <sphere name="propellant" ROutREF="tankInnerRadius"
            materialREF="propellantMat"
    />
    <sphere name="propellantTank" 
            RInREF="tankInnerRadius"
            ROutREF="tankOuterRadius"
            materialREF="tankMat"
    />


