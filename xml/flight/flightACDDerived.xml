<!--  $Header: /nfs/slac/g/glast/ground/cvs/xmlGeoDbs/xml/flight/flightACDDerived.xml,v 1.23 2007/06/01 19:12:54 jrb Exp $ -->
<derCategory name="derACD" save="true" >
  <overview>Derived constants specific to the ACD</overview>

  <const name="sideVerticalGap" >
    <notes>Vertical gap between (rows of?) side tiles.  
     As of 10 May 2007, this is an overlap, hence negative</notes> 
    <uminus>
      <refer refTo="sideVerticalOverlap" />
    </uminus>
  </const>

  <const name="sideTileR0TransLesser">
    <notes>Transverse  dimension of one edge side tile tile per side: 
           column 4 for -X and +Y side (faces 1 and 4); column 0 for +X 
           side and -Y side (faces 2 and 3).
    </notes>
    <refer refTo="topTileXEdge_l" />
  </const>

  <const name="sideTileR0TransGreater">
    <notes>Transverse dimension of one edge side tile tile per side: 
           column 0 for -X and +Y side (faces 1 and 4); column 4 for 
           +X side and -Y side (faces 2 and 3).
    </notes>
    <add>
      <refer refTo="sideTileR0TransLesser" />
      <refer refTo="tileThickness" />
      <refer refTo="dovetailGap" />
    </add>
  </const>

  <const name="sideTileTransMid">
    <notes>Transverse dimension of side tiles in columns 1,2 and 3. </notes>
    <refer refTo="topTileXCentral_l" />
  </const>  

  <const name="tileSideThickness" >
    <notes>Thickness of ACD side depends on configuration of tiles.
           For now (May 2007) it's just double thickness of a single side
           tile + clearance
    </notes>
    <add>
      <refer refTo="tileThickness" />
      <refer refTo="tileThickness" />
      <refer refTo="sideTileOverlapClearance" />
    </add>
  </const>

  <const name="tileThickness_n" >
    <notes>May need to displace by neg. tile thickness</notes>
    <uminus>
      <refer refTo="tileThickness" />
    </uminus>
  </const>

  <const name="ACDSideSupportThick">
    <notes>Thickness of core + face sheets for side support</notes>
    <add>
      <refer refTo="ACDSideCoreThickness" />
      <refer refTo="ACDFaceThickness" />
      <refer refTo="ACDFaceThickness" />
    </add>
  </const>

  <const name="ACDTopSupportThick">
    <notes>Thickness of core + face sheets for top support</notes>
    <add>
      <refer refTo="ACDTopCoreThickness" />
      <refer refTo="ACDFaceThickness" />
      <refer refTo="ACDFaceThickness" />
    </add>
  </const>

  <const name="ACDTop_z" >
    <notes>Z dimension of envelope which will contain
     ACD top tiles and ribbons (1 nov 2002)
     As of July, '03, simply use information from 3-d model
     about location of top of topmost tiles and top of 
     support structure to compute this. As of 2005, top tiles and
     ribbons are no longer contained in an envelope, but this is
     still a convenient number to compute.</notes>
    <minus>
      <refer refTo="ACDTileMaxZ" />
      <refer refTo="ACDTopSupportMaxZ" />
    </minus>
  </const>

  <const name="ACDTopZHalf" >
    <notes>for convenience</notes>
    <half>
      <refer refTo="ACDTop_z" />
    </half>
  </const>

  <const name="ACDTop_d" >
    <notes>Z displacement of top ACD relative to Ritz origin.
          As of July, 2003, get frontmost tile position from
          3-d model version 6-23-03; compute from there.</notes>
    <minus>
      <refer refTo="ACDTileMaxZ" />
      <refer refTo="ACDTopZHalf" />
    </minus>
  </const>

  <const name="ACDSideThickness">
    <notes>This isn't really correct.  If overlapping and
      slant are taken into account, ACDSideThickness is
      over twice this value. (1 nov 2002)</notes>
    <refer refTo="tileThickness" />
  </const>

  <const name="ACDTotalR0TransSide" >
    <notes>transverse length of collection of ACD side tiles,
        e.g those alone -X side of instrument. Compute as sum of tranverse
        dimensions of tiles in R0, columns 0-5, plus gaps</notes>
    <add>
      <refer refTo="sideTileR0TransLesser" />
      <refer refTo="sideTileR0TransGreater" />
      <refer refTo="sideTileTransMid" />
      <refer refTo="sideTileTransMid" />
      <refer refTo="sideTileTransMid" />
      <mul>
        <const value="4" uType="count" />
        <refer refTo="sideHorizontalGap" />
      </mul>
    </add>
  </const>


  <const name="ACDTotalR1TransSide" >
    <notes>transverse length of collection of ACD side tiles,
        e.g those alone -X side of instrument.
         Compute as sum of tranverse
        dimensions of tiles in R1, columns 0-5, plus gaps</notes>
    <add>
      <refer refTo="sideTileR1TransLesser" />
      <refer refTo="sideTileR1TransGreater" />
      <refer refTo="sideTileTransMid" />
      <refer refTo="sideTileTransMid" />
      <refer refTo="sideTileTransMid" />
      <mul>
        <const value="4" uType="count" />
        <refer refTo="sideHorizontalGap" />
      </mul>
    </add>
  </const>

  <const name="ACDTotalR2TransSide" >
    <notes>transverse length of collection of ACD side tiles,
        e.g those alone -X side of instrument.
         Compute as sum of tranverse
        dimensions of tiles in R1, columns 0-5, plus gaps</notes>
    <add>
      <refer refTo="sideTileR2TransLesser" />
      <refer refTo="sideTileR2TransGreater" />
      <refer refTo="sideTileTransMid" />
      <refer refTo="sideTileTransMid" />
      <refer refTo="sideTileTransMid" />
      <mul>
        <const value="4" uType="count" />
        <refer refTo="sideHorizontalGap" />
      </mul>
    </add>
  </const>


<!-- Scaled versions  for operating temp. -->
  <const name="ACDTotalR0TransSideOp">
    <notes>Scaled for operating temperature 
    </notes>
    <mul>
      <refer refTo="ACDTotalR0TransSide" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>


  <const name="sideTileR3TransOp">
    <notes>Scaled for operating temperature 
    </notes>
    <mul>
      <refer refTo="sideTileR3Trans" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>




<!-- Scale tile thicknesses for operating temperature -->
  <const name="tileThicknessOp">
    <notes>Scaled tile thickness (all but top center tiles)</notes>
    <mul>
      <refer refTo="tileThickness" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>

  <const name="tileCenterThicknessOp">
    <notes>Scaled tile thickness for top center tiles)</notes>
    <mul>
      <refer refTo="tileCenterThickness" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>

  <const name="ACDSidesGap">
    <notes>Min. distance between tiles of the two sides || to x-axis
         or equivalently of the two sides || to y-axis.
         Use displacement info for top row of tiles from from 3-d model
    </notes>
    <minus>
      <mul>
        <refer refTo="tileSideR0_dt" />
        <const value="2" uType="count" />
      </mul>
      <refer refTo="tileThickness" />
    </minus>
  </const>

  <const name="tileSideR0_dtn" >
    <notes>Transvere displacement for tiles on neg X and neg Y face</notes>
    <uminus>
      <refer refTo="tileSideR0_dt" />
    </uminus>
  </const>

  <const name="tileSideR1_dtn" >
    <notes>Transvere displacement for tiles on neg X and neg Y face</notes>
    <uminus>
      <refer refTo="tileSideR1_dt" />
    </uminus>
  </const>

  <const name="tileSideR2_dtn" >
    <notes>Transvere displacement for tiles on neg X and neg Y face</notes>
    <uminus>
      <refer refTo="tileSideR2_dt" />
    </uminus>
  </const>

  <const name="tileSideR3_dtn" >
    <notes>Transvere displacement for tiles on neg X and neg Y face</notes>
    <uminus>
      <refer refTo="tileSideR3_dt" />
    </uminus>
  </const>

  <const name="sideTileR1Slant_n" >
    <notes>Slant angle used for side tiles in row 1 in neg faces.
    </notes>
    <uminus>
      <refer refTo="sideTileR1Slant" />
    </uminus>
  </const>

  <const name="sideTileR2Slant_n" >
    <notes>Slant angle used for side tiles in row 2 in neg faces.
    </notes>
    <uminus>
      <refer refTo="sideTileR2Slant" />
    </uminus>
  </const>

  <const name="ACDTopTransverse" >
    <notes>Transverse dimension of envelope which will contain
    ACD top tiles and ribbons.  As of July 2003, just set to 
    value large enough to include all top tiles as positioned
    from 3-d model.  From this model there is an approx. 3 mm
    (actually 3.3)   gap between side tiles (top row) and top tiles 
  </notes>
    <minus>
      <refer refTo="ACDSidesGap" />
      <mul>
        <refer refTo="ACDSideTopTileGap" />
        <const value="2" uType="count" />                  
      </mul>
    </minus>          
  </const>


<!--   %%%% Need to revisit the extra mm %%%% -->
  <const name="ACDTotalX">
    <notes>Total extent in X of entire collection of ACD pieces,
          plus a millimeter for good luck (4 nov 2002) </notes>
    <add>
      <refer refTo="ACDSidesGap" />
      <refer refTo="ACDSideThickness" />
      <refer refTo="ACDSideThickness" />
      <const value="1.0" />
    </add>
  </const>

  <const name="ACDTotalY">
    <notes>Total extent in Y of entire collection of ACD pieces</notes>
    <refer refTo="ACDTotalX" />
  </const>


<!-- Scale all top tile transverse dimensions for operating temperature -->
  <const name="topTileXEdge_lOp">
    <notes>Scaled version of topTileXEdge_l
    </notes>
    <mul>
      <refer refTo="topTileXEdge_l" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>

  <const name="topTileXMid_lOp">
    <notes>Scaled for operating temperature 
    </notes>
    <mul>
      <refer refTo="topTileXMid_l" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>
  <const name="topTileXCentral_lOp">
    <notes>Scaled for operating temperature 
    </notes>
    <mul>
      <refer refTo="topTileXCentral_l" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>
  <const name="topTileYEdge_lOp">
    <notes>Scaled for operating temperature 
    </notes>
    <mul>
      <refer refTo="topTileYEdge_l" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>
  <const name="topTileYMid_lOp">
    <notes>Scaled for operating temperature 
    </notes>
    <mul>
      <refer refTo="topTileYMid_l" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>
  <const name="topTileYCentral_lOp">
    <notes>Scaled for operating temperature 
    </notes>
    <mul>
      <refer refTo="topTileYCentral_l" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>

<!-- Z dimension of extra piece for bent tiles -->
  <const name="topTileBentZOp">
    <notes>Scaled for operating temperature</notes>
    <mul>
      <refer refTo="topTileBentZ" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>

<!-- Scaled versions of side tile dimensions -->
  <const name="sideTileHeight0Op">
    <notes>Scaled for operating temperature 
    </notes>
    <mul>
      <refer refTo="sideTileHeight0" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>

  <const name="sideTileHeight1Op">
    <notes>Scaled for operating temperature 
    </notes>
    <mul>
      <refer refTo="sideTileHeight1" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>

  <const name="sideTileHeight2Op">
    <notes>Scaled for operating temperature 
    </notes>
    <mul>
      <refer refTo="sideTileHeight2" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>

  <const name="sideTileHeight3Op">
    <notes>Scaled for operating temperature 
    </notes>
    <mul>
      <refer refTo="sideTileHeight3" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>


  <const name="sideTileR0TransLesserOp">
    <notes>Scaled for operating temperature 
    </notes>
    <mul>
      <refer refTo="sideTileR0TransLesser" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>

  <const name="sideTileR1TransLesserOp">
    <notes>Scaled for operating temperature 
    </notes>
    <mul>
      <refer refTo="sideTileR1TransLesser" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>

  <const name="sideTileR2TransLesserOp">
    <notes>Scaled for operating temperature 
    </notes>
    <mul>
      <refer refTo="sideTileR2TransLesser" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>

  <const name="sideTileR0TransGreaterOp">
    <notes>Scaled for operating temperature 
    </notes>
    <mul>
      <refer refTo="sideTileR0TransGreater" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>

  <const name="sideTileR1TransGreaterOp">
    <notes>Scaled for operating temperature 
    </notes>
    <mul>
      <refer refTo="sideTileR1TransGreater" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>

  <const name="sideTileR2TransGreaterOp">
    <notes>Scaled for operating temperature 
    </notes>
    <mul>
      <refer refTo="sideTileR2TransGreater" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>


  <const name="sideTileTransMidOp">
    <notes>Scaled for operating temperature 
    </notes>
    <mul>
      <refer refTo="sideTileTransMid" />
      <refer refTo="ACDTileScale" />
    </mul>
  </const>

<!-- Screws are divided into 2 pieces: the part embedded in a tile (which
     is a s long as the tile is thick) and the part sticking out.  Since
     there are two thicknesses of tiles, need two more constants for the
     sticking-out parts
 -->
<!--
  <const name="screwExtLen" >
    <notes>Length of screw part sticking out of normal-thickness tile
    </notes>
    <minus>
      <refer refTo="ACDScrewLen" />
      <refer refTo="tileThickness" />
    </minus>
  </const>

  <const name="screwExtThickLen" >
    <notes>Length of screw part sticking out of thick (top central) tile
    </notes>
    <minus>
      <refer refTo="ACDScrewLen" />
      <refer refTo="tileCenterThickness" />
    </minus>
  </const>
    -->  
<!-- displacements for screws in side tiles (other than bottom row) -->

<!-- Z-displacement for screws in side tiles (5 cm from edges) -->
<!--
  <const name="side0Screw_dz">
    <notes>z-displacement for screws on +z side of top row (0) side tiles
    </notes>
    <half>
      <minus>
        <refer refTo="sideTileHeight0" />
        <refer refTo="ACDScrewFromEdge" />
      </minus>
    </half>
  </const>

  <const name="side0Screw_dzn">
    <notes>z-displacement for screws on -z side of top row side tiles
    </notes>
    <uminus>
      <refer refTo="side0Screw_dz" />
    </uminus>
  </const>

  <const name="side1Screw_dz">
    <notes>z-displacement for screws on +z side of row 1 side tiles
    </notes>
    <half>
      <minus>
        <refer refTo="sideTileHeight1" />
        <refer refTo="ACDScrewFromEdge" />
      </minus>
    </half>
  </const>

  <const name="side1Screw_dzn">
    <notes>z-displacement for screws on -z side of row 1 side tiles
    </notes>
    <uminus>
      <refer refTo="side1Screw_dz" />
    </uminus>
  </const>

  <const name="side2Screw_dz">
    <notes>z-displacement for screws on +z side of row 2 side tiles
    </notes>
    <half>
      <minus>
        <refer refTo="sideTileHeight2" />
        <refer refTo="ACDScrewFromEdge" />
      </minus>
    </half>
  </const>

  <const name="side2Screw_dzn">
    <notes>z-displacement for screws on -z side of row 2 side tiles
    </notes>
    <uminus>
      <refer refTo="side2Screw_dz" />
    </uminus>
  </const>
-->
<!-- transverse displacement for screws in side tiles (5 cm from edges) -->
<!--
  <const name="sideLesserScrew_dt">
    <notes>Transverse (x or y) displacement for screws on some narrower
           side tiles (col 0 for sides 2 or 3; col 4 for
           sides 1 and 4)</notes>
    <half>
      <minus>
        <refer refTo="sideTileTransLesser" />
        <refer refTo="ACDScrewFromEdge" />
      </minus>
    </half>
  </const>

  <const name="sideLesserScrew_dtn">
    <notes>Transverse (x or y) displacement for screws on outer
           side tiles (negative direction</notes>
    <uminus>
      <refer refTo="sideLesserScrew_dt" />
    </uminus>
  </const>


  <const name="sideGreaterScrew_dt">
    <notes>Transverse (x or y) displacement for screws on wider outer
           side tiles (col 4 for sides 2 or 3; col 0 for
           sides 1 and 4)</notes>
    <half>
      <minus>
        <refer refTo="sideTileTransGreater" />
        <refer refTo="ACDScrewFromEdge" />
      </minus>
    </half>
  </const>

  <const name="sideGreaterScrew_dtn">
    <notes>Transverse (x or y) displacement for screws on wider
           side tiles (negative direction</notes>
    <uminus>
      <refer refTo="sideGreaterScrew_dt" />
    </uminus>
  </const>

  <const name="sideMidScrew_dt">
    <notes>Transverse (x or y) displacement for screws on 
           side tiles in cols 1,2,3</notes>
    <half>
      <minus>
        <refer refTo="sideTileTransMid" />
        <refer refTo="ACDScrewFromEdge" />
      </minus>
    </half>
  </const>

  <const name="sideMidScrew_dtn">
    <notes>Transverse (x or y) displacement for screws in side
           tiles, cols 1,2,3 (negative direction)</notes>
    <uminus>
      <refer refTo="sideMidScrew_dt" />
    </uminus>
  </const>
 -->
<!-- 
    screws in bottom side tiles come in groups of 4, the vertices of
    squares 5 cm on a side.  The squares are evenly spaced across
    the tile
  -->
<!--
   <const name="ACDScrewSqSide" >
     <notes>Total length of side of a minimal square containing a group
        of 4 screws </notes>
     <add>
        <refer refTo="ACDScrewCenterDiff" />
        <mul>
           <refer refTo="ACDHoleRad" />
           <const value="2" uType="count" />
        </mul>
      </add>
   </const>

       
   <const name="ACDScrewSqMin_d" >
     <notes>Half of distance between centers of adjacent screw squares,
            equal to transverse displacement of most central squares</notes>
     <half>
       <quo>
         <refer refTo="ACDTotalTransSideOp" />
         <refer refTo="ACDNumScrewSq" />
       </quo>
     </half>
   </const>
-->
<!-- transverse displacements for the 6 screw squares are multiples of
     the above -->
<!--
   <const name="ACDScrewSqMin_dn">
     <notes>Smallest neg. displacement of a screw square</notes>
     <uminus>
       <refer refTo="ACDScrewSqMin_d" />
     </uminus>
   </const>

   <const name="ACDScrewSqMin3_d">
      <notes>Displacement for squares 2 and 5</notes>
      <mul>
        <refer refTo="ACDScrewSqMin_d" />
        <const value="3" uType="count" />
      </mul>
   </const>

   <const name="ACDScrewSqMin3_dn">
     <notes>Neg. displacement (square 2)</notes>
     <uminus>
       <refer refTo="ACDScrewSqMin3_d" />
     </uminus>
   </const>

   <const name="ACDScrewSqMin5_d">
      <notes>Displacement for squares 1 and 6</notes>
      <mul>
        <refer refTo="ACDScrewSqMin_d" />
        <const value="5" uType="count" />
      </mul>
   </const>

   <const name="ACDScrewSqMin5_dn">
     <notes>Neg. displacement (square 1)</notes>
     <uminus>
       <refer refTo="ACDScrewSqMin5_d" />
     </uminus>
   </const>

   <const name="screwInSq_d" >
     <notes>Displacement of a screw from center of screw square</notes>
     <half>
       <refer refTo="ACDScrewCenterDiff" />
     </half>
   </const>

   <const name="screwInSq_dn" >
     <notes>Negative displacement of a screw from center of 
          screw square</notes>
     <uminus>
       <refer refTo="screwInSq_d" />
     </uminus>
   </const>
-->
  <const name="ACDSide_z" >
    <notes>Total height of an ACD side of tiles 
        (tiles plus gaps)</notes>
    <add>
      <refer refTo="sideTileHeight0" />
      <refer refTo="sideTileHeight1" />
      <refer refTo="sideTileHeight2" />
      <refer refTo="sideTileHeight3" />
      <mul>
        <minus>
          <refer refTo="numSideRows" />
          <const value="1" uType="count" />
        </minus>
        <refer refTo="sideVerticalGap" />
      </mul>
    </add>
  </const>


  <const name="tileHalfThickness" >
    <notes>for convenience</notes>
    <half>
      <refer refTo="tileThickness" />
    </half>
  </const>


  <const name="ACDSideDovetail_d" >
    <notes>Side tiles  on sides parallel to X-axis (sides 2 and 4)
           have a displacement in X of this amount, positive
           for side 2 and negative for side 4.  Similarly side 3
           is displaced positively in Y by this amount, side 1 
           negatively.
    </notes>
    <quo>
      <add>
        <refer refTo="tileThickness" />
        <refer refTo="dovetailGap" />
      </add>
      <const value="2" uType="count" />
    </quo>
  </const>

  <const name="ACDSideDovetail_dn" >
    <notes>Dovetail displacement for "negative" ACD sides</notes>
    <uminus>
      <refer refTo="ACDSideDovetail_d" />
    </uminus>
  </const>


<!-- Additionally need to compute bunch of displacements to be used
     in constructing ACD top:

     For tiles, 
          need 3 different Z displacements,
                    topTileCent_dz
                    topTileMid_dz
                    topTileEdge_dz
-->
  <const name="topTileEdge_dz">
    <notes>Displacement w.r.t. LAT origin of 
          highest tiles, those in row [was col before Nov 05] 0 and 4</notes>
    <minus>
      <refer refTo="ACDTileMaxZ" />
      <refer refTo="tileHalfThickness" />
    </minus>
  </const>

  <const name="topTileMid_dz">
    <notes>Displacement w.r.t. LAT origin for
          tiles in rows [was cols before Nov 05] 1 and 3</notes>
    <minus>
      <refer refTo="topTileEdge_dz" />
      <add>
        <refer refTo="tileThickness" />
        <refer refTo="topTileOuterZGap" />
      </add>
    </minus>
  </const>

  <const name="topTileCent_dz">
    <notes>Displacement w.r.t. LAT origin for
          tiles in row [was col before Nov 05] 2</notes>
    <minus>
      <refer refTo="topTileMid_dz" />
      <add>
        <half>
          <add>
            <refer refTo="tileThickness" />
            <refer refTo="tileCenterThickness" />
          </add>
        </half>
        <refer refTo="topTileInnerZGap" />
       </add>
    </minus>
  </const>

<!-- 2 Y-displacements (for rows 3, 4) and their negatives (for rows 1,0)
   Revised for Nov. 05 where overlap direction was corrected.  -->
  <const name="topTileMid_dy" >
    <notes>Y displacement of top tiles in row 3 </notes>
    <minus>
      <half>
        <add>
          <refer refTo="topTileYCentral_l" />
          <refer refTo="topTileYMid_l" />
        </add>
      </half>
      <refer refTo="topOverlap" />
    </minus>
  </const>
    
  <const name="topTileMid_dyn" >
    <notes>Y displacement of top tiles in row 1 </notes>
    <uminus>
      <refer refTo="topTileMid_dy" />
    </uminus>
  </const>

  <const name="topTileEdge_dy" >
    <notes>Y displacement of top tiles in row 4 </notes>
    <add>
      <refer refTo="topTileMid_dy" />
      <half>
        <add>
          <refer refTo="topTileYMid_l" />
          <refer refTo="topTileYEdge_l" />
        </add>
      </half>
      <uminus>
        <refer refTo="topOverlap" />
      </uminus>
    </add>
  </const>

  <const name="topTileEdge_dyn" >
    <notes>Y displacement of top tiles in row 0 </notes>
    <uminus>
      <refer refTo="topTileEdge_dy" />
    </uminus>
  </const>


<!-- 2 X-displacements (for cols 3,4) and their negatives (for cols 1,0)
   Revised for Nov. 05 where overlap direction was corrected.
 -->
  <const name="topTileMid_dx" >
    <notes>X displacement of tiles in col 3</notes>
    <add>
      <half>
         <add>
           <refer refTo="topTileXCentral_l" />
           <refer refTo="topTileXMid_l" />
         </add>
      </half>
      <refer refTo="topTileGap" />
    </add>
  </const>

  <const name="topTileMid_dxn" >
    <notes>X displacement of tiles in col 1</notes>
    <uminus>
      <refer refTo="topTileMid_dx" />
    </uminus>
  </const>

  <const name="topTileEdge_dx" >
    <notes>X displacement of tiles in col 4</notes>
    <add>
      <refer refTo="topTileMid_dx" />
      <half>
         <add>
           <refer refTo="topTileXEdge_l" />
           <refer refTo="topTileXMid_l" />
         </add>
      </half>
      <refer refTo="topTileGap" />
    </add>
  </const>
    
  <const name="topTileEdge_dxn" >
    <notes>X displacement of tiles in col 0</notes>
    <uminus>
      <refer refTo="topTileEdge_dx" />
    </uminus>
  </const>

 <!-- Displacements for extra pieces stuck on to make bent tiles of the
      top tiles in row 0 and row 4.  Z is the same for all.  X-displacement
      depends on column (5 possible values, one being zero) and 
      Y-displacement on row (2 possible values).  Don't bother to define
      the X-displacements since they're the same as main pieces -->
  <const name="topTileBent_dz" >
    <notes>Z displacement w.r.t origin of extra pieces needed to make
           bent tiles</notes>
    <minus>
      <refer refTo="topTileEdge_dz" />
      <half>
        <add>
          <refer refTo="tileThicknessOp" />
          <refer refTo="topTileBentZOp" />
        </add>
      </half>
    </minus>
  </const>

  <const name="topTileBentR0_dy">
    <notes>Y displacement w.r.t origin of extra pieces needed to make
           bent tiles in row 0</notes>
    <minus>
      <refer refTo="topTileEdge_dyn" />
      <half>
        <minus>
          <refer refTo="topTileYEdge_lOp" />
          <refer refTo="tileThicknessOp" />
        </minus>
      </half>
    </minus>
  </const>

  <const name="topTileBentR4_dy">
    <notes>Y displacement w.r.t origin of extra pieces needed to make
           bent tiles in row 0</notes>
    <uminus>
      <refer refTo="topTileBentR0_dy" />
    </uminus>
  </const>

<!-- Ribbon stuff -->

  <const name="topYRibbon_dz" >
    <notes>(Absolute) Z displacement
          for long ribbon segments running || to
          X-axis along top.</notes>
    <refer refTo="yRibbonTopAbs_dz" />
  </const>

  <const name="ribbonHalfThickness" >
    <notes>for convenience</notes>
    <half>
      <refer refTo="ribbonThickness" />
    </half>
  </const>
          
<!-- Ribbon dimensions.   An xRibbon is one more or less contained in
      a plane of constant x (perp. to x axis) and similarly for yRibbon. 
      In current (may 2007) model xRibbons are divided into 9 segments
      (5 longish horizontal pieces, 4 small vertical ones) along top; 
      yRibbons have only a single top segment
  -->
         
  <const name="yRibbonTop_l">
    <notes>These ribbons run the full distance across ACDTop
        (actually more, but that's all that will fit)</notes>
    <refer refTo="ACDTopTransverse" />
  </const>

  <!-- There are 3 different possible lengths for bits of X ribbon running
       horizontally along the top:
       one for ribbon segments under the central row of tiles, one for 
       ribbon segments under "mid" tiles (rows 1 and 3) and one
       for ribbon segments under the outer rows (0 and 4).     -->


  <const name="xRibbonTopCent_l">
    <notes>length of ribbon segments running under the central row
      of tiles. Redo to include short vertical pieces May 07.</notes>
    <add>
      <refer refTo="topTileYCentral_l" />
      <refer refTo="ribbonThickness" />
      <refer refTo="ribbonThickness" />
      <refer refTo="ribbonExtend" />
      <refer refTo="ribbonExtend" />
    </add>
  </const>

  <const name="xRibbonTopMid_l">
    <notes>length of ribbon segments running under rows 1,3
      of top tiles. Redo to include short vertical pieces May 07.</notes>
    <minus>
      <add>
        <refer refTo="topTileYMid_l" />
        <refer refTo="ribbonThickness" />
      </add>
      <refer refTo="topOverlap" />
    </minus>
  </const>

  <const name="xRibbonTopEdge_l">
    <notes>length of ribbon segments running under rows 0,4
      of top tiles.  Redo to include short vertical pieces May 07.</notes>
    <minus>
      <refer refTo="topTileYEdge_l" />
      <add>
        <refer refTo="topOverlap" />
        <refer refTo="ribbonExtend" />
        <refer refTo="ribbonGap" />
        <refer refTo="tileThickness" />
      </add>
    </minus>
  </const>            

  <const name="xRibbonOuter_dxn">
    <notes>X displacement for X-ribbon #0</notes>
    <uminus>
      <refer refTo="xRibbonOuter_dx" />
    </uminus>
  </const>

  <const name="xRibbonInner_dxn">
    <notes>X displacement for X-ribbon #1</notes>
    <uminus>
      <refer refTo="xRibbonInner_dx" />
    </uminus>
  </const>

  <const name="yRibbonOuter_dyn">
    <notes>Y displacement for Y-ribbon #0</notes>
    <uminus>
      <refer refTo="yRibbonOuter_dy" />
    </uminus>
  </const>

  <const name="yRibbonInner_dyn">
    <notes>Y displacement for Y-ribbon #1</notes>
    <uminus>
      <refer refTo="yRibbonInner_dy" />
    </uminus>
  </const>
<!-- Length of little extra pieces of X-ribbon behind bent tiles -->
<!--
  <const name="ribbonBentZ">
    <notes>Length (Z) of pieces of ribbon behind extra bent tile pieces
    </notes>
    <minus>
      <refer refTo="topTileBentZ" />
      <add>
        <refer refTo="ribbonThickness" />
        <refer refTo="ribbonGap" />
      </add>
    </minus>
  </const>
-->
<!-- z displacements for the different horizontal segments of the X ribbons. 
     Make them a fixed distance (ribbonGap) underneath the corresponding top
     tile.

     Each of the 4 X ribbons is divided into 5 horiz segments (and 4 little
     vertical segments). For the horizontal segments there are
       * 3 different Z displacements, computed from top tile Z displacements
       * 2 X displacments and their negatives, handled above already
           as xRibbonInner_dx, xRibbonOuter_dx
       * 2 Y displacements, their negatives, and 0 displacement for center
         piece

     Also compute Z-displacement of ribbonBent pieces (they are just
     below XRibbonEdge pieces) and transverse (Y) displacement: leave
     gap 'ribbonGap' between these pieces and bent tile pieces.
 -->
  <const name="topXRibbonEdge_dz">
    <notes>Z displacement for outer segments (1 and 5) of top ribbons
           running perp. to X axis</notes>
    <minus>
      <refer refTo="topTileEdge_dz" />
      <add>
        <refer refTo="tileHalfThickness" />
        <refer refTo="ribbonHalfThickness" />
        <refer refTo="ribbonGap" />
      </add>
    </minus>
  </const>

  <const name="ribbonBent_dz">
    <notes>Z displacement of extra little pieces of ribbon behind bent tiles
    </notes>
    <minus>
      <refer refTo="topTileEdge_dz" />
      <add>
        <refer refTo="ribbonThickness" />
        <refer refTo="ribbonGap" />
        <half>
          <add>
            <refer refTo="ribbonBentZ" />
            <refer refTo="tileThickness" />
          </add>
        </half>
      </add>
    </minus>
  </const>

  <const name="ribbonBentR4_dy">
    <notes>Y displacement for ribbons behind bent tiles in row 4</notes>
    <minus>
      <refer refTo="topTileBentR4_dy" />
      <add>
        <refer refTo="ribbonGap" />
        <half>
          <add>
            <refer refTo="tileThickness" />
            <refer refTo="ribbonThickness" />
          </add>
        </half>
      </add>
    </minus>
  </const>

  <const name="ribbonBentR0_dy">
    <notes>Y displacement for ribbons behind bent tiles in row. 0</notes>
    <uminus>
      <refer refTo="ribbonBentR4_dy" />
    </uminus>
  </const>

  <const name="topXRibbonMid_dz">
    <notes>Z displacement for mid segments (2 and 4) of 
           top ribbons perp. to x-axis </notes>
    <minus>
      <refer refTo="topTileMid_dz" />
      <add>
        <refer refTo="tileHalfThickness" />
        <refer refTo="ribbonHalfThickness" />
        <refer refTo="ribbonGap" />
      </add>
    </minus>

  </const>

  <const name="topXRibbonCent_dz">
    <notes>Z displacement for central segment (3) of 
           top ribbons perp. to x-axis </notes>
    <minus>
      <refer refTo="topTileCent_dz" />
      <add>
        <half>
          <refer refTo="tileCenterThickness" />
        </half>
        <refer refTo="ribbonHalfThickness" />
        <refer refTo="ribbonGap" />
      </add>
    </minus>
  </const>

  <!-- go to edge of central tile, add ribbon extend and half our length -->

  <const name="topXRibbonMid_dy" >
    <notes>y-displacement of segment 4 (updated May 07) </notes>
    <add>
      <refer refTo="ribbonExtend" />
      <half>
        <add>
          <refer refTo="topTileYCentral_l" />
          <refer refTo="xRibbonTopMid_l" />
        </add>
      </half>
    </add>
  </const>

  <const name="topXRibbonMid_dyn" >
    <notes>y-displacement of segment 2 </notes>
    <uminus>
      <refer refTo="topXRibbonMid_dy" />
    </uminus>
  </const>

  <!-- go to center of mid tile, add half tile length (to get
     to edge) half our length and finally ribbonExtend -->


  <const name="topXRibbonEdge_dy" >
    <notes>y-displacement of segment 5 </notes>
    <add>
      <refer refTo="topTileMid_dy" />
      <half>
        <add>
          <refer refTo="topTileYMid_l" />
          <refer refTo="xRibbonTopEdge_l" />
        </add>
      </half>
      <refer refTo="ribbonExtend" />
    </add>
  </const>

  <const name="topXRibbonEdge_dyn" >
    <notes>y-displacement of segment 1 </notes>
    <uminus>
      <refer refTo="topXRibbonEdge_dy" />
    </uminus>
  </const>



  <!-- Compute stuff needed for little vertical connecting top x ribbons -->
  <const name="xRibbonTopVertNear_l" >
    <notes>Height of vert. piece connecting mid and central 
           top X ribbons</notes>
    <minus>
      <refer refTo="topXRibbonMid_dz" />
      <add>
        <refer refTo="topXRibbonCent_dz" />
        <refer refTo="ribbonThickness" />
      </add>
    </minus>
  </const>

  <const name="topVertNearXRibbon_dz" >
    <notes>Z location of vert. piece connecting mid and central top X ribbons
    </notes>
    <add>
      <refer refTo="topXRibbonCent_dz" />
      <half>
        <add>
          <refer refTo="xRibbonTopVertNear_l" />
          <refer refTo="ribbonThickness" />
        </add>
      </half>
    </add>
  </const>

  <const name="topVertNearXRibbon_dy" >
    <notes>Y location of vert. piece connecting mid and central top X ribbons
       (+Y version)
    </notes>
    <half>
      <minus>
        <refer refTo="xRibbonTopCent_l" />
        <refer refTo="ribbonThickness" />
      </minus>
    </half>
  </const>

  <const name="topVertNearXRibbon_dyn" >
    <notes>Y location of vert. piece connecting mid and central top X ribbons
      (-Y version) </notes>
    <uminus>
      <refer refTo="topVertNearXRibbon_dy" />
    </uminus>
  </const>
 
  <const name="xRibbonTopVertFar_l" >
    <notes>Height of vert. piece connecting edge and mid top X ribbons</notes>
    <minus>
      <refer refTo="topXRibbonEdge_dz" />
      <add>
        <refer refTo="topXRibbonMid_dz" />
        <refer refTo="ribbonThickness" />
      </add>
    </minus>
  </const>

  <const name="topVertFarXRibbon_dz" >
    <notes>Z location of vert. piece connecting mid and edge top X ribbons
    </notes>
    <add>
      <refer refTo="topXRibbonMid_dz" />
      <half>
        <add>
          <refer refTo="xRibbonTopVertFar_l" />
          <refer refTo="ribbonThickness" />
        </add>
      </half>
    </add>
  </const>
 
  <const name="topVertFarXRibbon_dy" >
    <notes>Y location of vert. piece connecting mid and edge top X ribbons
       (+Y version)
    </notes>
    <add>
      <refer refTo="topVertNearXRibbon_dy" />
      <refer refTo="xRibbonTopMid_l" />
      <uminus>
        <refer refTo="ribbonThickness" />
      </uminus>
    </add>
  </const>   


  <const name="topVertFarXRibbon_dyn" >
    <notes>Y location of vert. piece connecting mid and edge top X ribbons
      (-Y version) </notes>
    <uminus>
      <refer refTo="topVertFarXRibbon_dy" />
    </uminus>
  </const>

<!-- Stuff for new, more realistic model of side ribbons -->

  <const name="ribbonBentZ" > 
    <notes>Part of side X ribbon running behind bent piece of top tile
           and part of side tile row 0.  Revised May '07 for
           more realistic side ribbon description.</notes>
    <minus>
      <add>
        <refer refTo="topTileBentZ" />
        <refer refTo="ribbonExtend" />
      </add>
      <refer refTo="ribbonGap" />
    </minus>
  </const>

  <const name="ribbonSideTrans_l" >
    <notes>Length of "standard" little horizontal-running bits of side ribbons,
           same for both x- and y-measuring</notes>
    <minus>
      <add>
        <refer refTo="tileThickness" />
        <refer refTo="sideTileOverlapClearance" />
      </add>
      <refer refTo="ribbonThickness" />
    </minus>
  </const>

  <!-- Side sections of Y-measuring ribbons have 4 vertical pieces and
       3 transverse of lenth ribbonSideTrans_l.  
       Side sections of X-measuring ribbons have 5 vertical pieces
       and 4 transverse.  Of the transverse, 3 are of standard length
       but the one at greatest Z-displacement is longer.
       Of the vertical pieces, bottom 3 are identical for X-measuring
       and Y-measuring. -->
   <!--  comment out ribbon stuff for now TEMP
  <const name="ribbonSideTrans0_l" >
    <notes>Length of horizontal running bit of X-measuring ribbons with
           greatest dz. Compute length as position of more distant end
           minus distance of near end (but some terms cancel)</notes>
    <minus>
      <refer refTo="tileSide_dt" />
      <add>
        <refer refTo="ribbonThickness" />
        <refer refTo="topTileBentR4_dy" />
      </add>
    </minus>
  </const>
-->
<!-- lengths of vertical pieces of side ribbons.  Call the ones common
     to X- and Y-measuring ribbons ribbonSideVert1, ribbonSideVert2,
     ribbonSideVert3 (behind rows 1,2,3, resp.) . 
 -->
   <!--  comment out ribbon stuff for now TEMP
  <const name="ribbonSideVert1_l" >
    <notes>Shortish piece of side ribbon behind Row 1</notes>
    <minus>
      <refer refTo="sideTileHeight1" />
      <add>
        <refer refTo="ribbonExtend" />
        <refer refTo="ribbonExtend" />
        <refer refTo="sideVerticalOverlap" />           
        <refer refTo="sideVerticalOverlap" />           
      </add>
    </minus>
  </const>

  <const name="ribbonSideVert2_l" >
    <notes>Longish piece of side ribbon behind Row 2</notes>
    <add>
      <refer refTo="sideTileHeight2" />
      <refer refTo="ribbonExtend" />
      <refer refTo="ribbonExtend" />
      <refer refTo="ribbonThickness" />
      <refer refTo="ribbonThickness" />
    </add>
  </const>

  <const name="ribbonSideVert3_l" > 
    <notes>Shortish piece of side ribbon behind Row 3</notes>
    <minus>
      <refer refTo="sideTileHeight3" />
      <add>
        <refer refTo="ribbonExtend" />
        <refer refTo="sideVerticalOverlap" />           
      </add>
    </minus>
  </const>
-->
  <!-- Vert0 is different for X-measuring and Y-measuring; ribbonBent only
       exists for X-measuring ribbons  -->
  
   <!--  comment out ribbon stuff for now TEMP
  <const name="yRibbonSideVert0_l" > 
    <notes> Max Z for this piece is = max Z for top Y-ribbons.
            Min Z is ribbonExtend + ribbonThickness below bottom
            of side tile row 0 </notes>
    <minus>
      <add>
        <refer refTo="yRibbonTopAbs_dz" />
        <half>
          <refer refTo="ribbonThickness" />
        </half>
      </add>
      <minus>
        <refer refTo="tileSideR0_dz" />
        <add>
          <half>
            <refer refTo="sideTileHeight0" />
          </half>
          <refer refTo="ribbonExtend" />
          <refer refTo="ribbonThickness" />
        </add>
      </minus>
    </minus>
  </const>

  <const name="xRibbonSideVert0_l" > 
    <notes>Part of side X ribbon running behind bottom part of
           side tile row 0</notes>
    <minus>
      <add>
        <refer refTo="sideTileHeight0" />
        <refer refTo="ribbonThickness" />
      </add>
      <add>
        <refer refTo="topTileBentZ" />
        <refer refTo="tileThickness" />
        <refer refTo="sideOverlap" />
      </add>
    </minus>
  </const>
-->

   <!-- Done defining dimensions.  Still need to define displacements
        for xRibbonSideVert0, yRibbonSideVert0, ribbonSideVert1,
        ribbonSideVert2, ribbonSideVert3, ribbonSideTrans0,
        and ribbonSideTrans.  The last has 3 different Z displacements.

        Think of all pieces as if they were part of X-ribbons; when used
        for Y-ribbons they will be rotated.  dx is unchanged from simpler
        design, but for each of the new pieces have to compute
        dy and dz. -->

  <!-- Z-displacements first -->

   <!--  comment out ribbon stuff for now TEMP
  <const name="ribbonSideVert0MinZ" >
    <notes>Bottom of side ribbon piece behind row 0 for both X and Y
           ribbons
    </notes>
    <minus>
      <refer refTo="tileSideR0_dz" />
      <add>
        <half>
           <refer refTo="sideTileHeight0" />
        </half>
        <refer refTo="ribbonExtend" />
        <refer refTo="ribbonThickness" />
      </add>
    </minus>
  </const>

  <const name="yRibbonSideVert0_dz">
    <notes>z-displacement of piece of side Y-ribbon behind bottom of row0
    </notes>
    <add>
      <refer refTo="ribbonSideVert0MinZ" />
      <half>
        <refer refTo="yRibbonSideVert0_l" />
      </half>
    </add>
   </const>        

  <const name="xRibbonSideVert0_dz">
    <notes>z-displacement of piece of side X-ribbon behind bottom of row0
    </notes>
    <add>
      <refer refTo="ribbonSideVert0MinZ" />
      <half>
        <refer refTo="xRibbonSideVert0_l" />
      </half>
    </add>
   </const>        

  <const name="ribbonSideVert1_dz">
    <notes>z-displacement of piece of side ribbon behind row 1..
           same as tile row
    </notes>
    <refer refTo="tileSideR1_dz" />
  </const>

  <const name="ribbonSideVert2_dz">
    <notes>z-displacement of piece of side ribbon behind row 2..
           same as tile row
    </notes>
    <refer refTo="tileSideR2_dz" />
  </const>

  <const name="ribbonSideVert3_dz">
    <notes>z-displacement of piece of side ribbon behind row 3. 
          For this model, bottom of ribbon is even with bottom of
          (unshrunk) tile - not the case for real instrument, for
          which ribbons don't go down that far, but
          more or less irrelevant for simulation.
    </notes>
    <add>
      <refer refTo="tileSideR3_dz" />
      <half>
        <minus>
          <refer refTo="ribbonSideVert3_l" />
          <refer refTo="sideTileHeight3" />
        </minus>
      </half>
    </add>
  </const>

  <const name="ribbonSideTrans0_dz" >
    <notes>Z-displacement for upper horizontal piece of X-measuring
           side ribbons</notes>
    <minus>
      <refer refTo="ribbonBent_dz" />
      <half>
        <minus>
          <refer refTo="ribbonBentZ" />
          <refer refTo="ribbonThickness" />
        </minus>
       </half>
     </minus>
   </const>

  <const name="ribbonSideTransUpper_dz" >
    <notes>Z-displacement for upper horizontal piece of length 
             ribbonSideTrans_l</notes>
    <add>
      <refer refTo="ribbonSideVert1_dz" />
      <half>
        <minus>
          <refer refTo="ribbonSideVert1_l" />
          <refer refTo="ribbonThickness" />
        </minus>
      </half>
    </add>
  </const>

  <const name="ribbonSideTransMid_dz" >
    <notes>Z-displacement for middle horizontal piece of length 
             ribbonSideTrans_l</notes>
    <minus>
      <refer refTo="ribbonSideVert1_dz" />
      <half>
        <minus>
          <refer refTo="ribbonSideVert1_l" />
          <refer refTo="ribbonThickness" />
        </minus>
      </half>
    </minus>
  </const>

  <const name="ribbonSideTransLower_dz" >
    <notes>Z-displacement for bottom horizontal piece of length 
             ribbonSideTrans_l</notes>
    <minus>
      <refer refTo="ribbonSideVert2_dz" />
      <half>
        <minus>
          <refer refTo="ribbonSideVert2_l" />
          <refer refTo="ribbonThickness" />
        </minus>
      </half>
    </minus>
  </const>
-->

  <!-- Now for transverse displacements.  Always define negatives as well -->

   <!--  comment out ribbon stuff for now TEMP
  <const name="ribbonSideVert0_2_dt" >
    <notes> Transverse displacement for vert0 and vert2 bits of side ribbons
    </notes>
    <add>
      <refer refTo="ribbonBentR4_dy" />
      <refer refTo="ribbonSideTrans0_l" />
      <refer refTo="ribbonThickness" />
    </add>
  </const>

  <const name="ribbonSideVert1_3_dt" >
    <notes> Transverse displacement for vert0 and vert2 bits of side ribbons
    </notes>
    <add>
      <refer refTo="ribbonSideVert0_2_dt" />
      <refer refTo="ribbonSideTrans_l" />
      <refer refTo="ribbonThickness" />
    </add>
  </const>
          
  <const name="ribbonSideTrans_dt" >
    <notes> Transverse displacement for "standard" horizontal bits of 
      side ribbons. They're halfway between vertical pieces    </notes>
    <half>
      <add>
        <refer refTo="ribbonSideVert0_2_dt" />
        <refer refTo="ribbonSideVert1_3_dt" />
      </add >
    </half>
  </const>

  <const name="ribbonSideTrans0_dt" >
    <notes> Transverse displacement for X-ribbon only horizontal bit:
      halfway between inner vertical pieces and ribbonBent piece    </notes>
    <half>
      <add>
        <refer refTo="ribbonSideVert0_2_dt" />
        <refer refTo="ribbonBentR4_dy" />
      </add>
    </half>
  </const>
-->
  <!-- negatives of all of above -->
   <!--  comment out ribbon stuff for now TEMP
  <const name="ribbonSideVert0_2_dtn" >
    <notes> Neg. transverse displacement for vert0 and vert2 bits of 
         side ribbons    </notes>
    <uminus>
      <refer refTo="ribbonSideVert0_2_dt" />     
    </uminus>
  </const>

  <const name="ribbonSideVert1_3_dtn" >
    <notes> Neg. transverse displacement for vert1 and vert3 bits of 
         side ribbons    </notes>
    <uminus>
      <refer refTo="ribbonSideVert1_3_dt" />     
    </uminus>
  </const>

  <const name="ribbonSideTrans0_dtn" >
    <notes> Neg. transverse displacement for X-ribbon only horix. bit</notes>
    <uminus>
      <refer refTo="ribbonSideTrans0_dt" />     
    </uminus>
  </const>

  <const name="ribbonSideTrans_dtn" >
    <notes> Neg. transverse displacement for "standard" horizontal bits</notes>
    <uminus>
      <refer refTo="ribbonSideTrans_dt" />     
    </uminus>
  </const>
-->
<!-- End stuff for new, more realistic model of side ribbons -->
 

  <const name="ACDSideSupport_dDovetailn">
    <notes>Negative dovetail distance for those sides 
           that need it.</notes>
    <uminus>
      <refer refTo="ACDSideSupport_dDovetail" />
    </uminus>
  </const>

  <const name="ACDSideSupport_dtn">
    <notes>Transverse (x or y) distance of support side from 
           Ritz origin, negative</notes>
    <uminus>
      <refer refTo="ACDSideSupport_dt" />
    </uminus>
  </const>


  <!-- Old stuff having to do with counts, ranges of id fields
       is probably still useful -->
  <const name="XTopTileMax" uType="count" type="int">
    <notes>Convenience for idField definitons</notes>
    <minus>
      <refer refTo="numXTopTiles" />
      <const value="1.0" />
    </minus>
  </const>

  <const name="YTopTileMax" uType="count" type="int">
    <notes>Convenience for idField definitons</notes>
    <minus>
      <refer refTo="numYTopTiles" />
      <const value="1" uType="count" />
    </minus>
  </const>


  <const name="ACDShortRowMin" uType="count"  type="int">
    <notes>row number of first short ACD side row</notes>
    <add>
      <refer refTo="ACDLongRowMax" />
      <const value="1" uType="count" />
    </add>
  </const>

  <const name="ACDShortRowMax" uType="count"  type="int">
    <notes>row number of last short ACD side row</notes>
    <minus>
      <refer refTo="numSideRows" />
      <const value="1" uType="count" />
    </minus>
  </const>

  <const name="ACDShortMaxCol" uType="count" type="int">
    <notes>Column number of last tile in a short row</notes>
    <minus>
      <refer refTo="numPerSideRowShort" />
      <const value="1" uType="count" />
    </minus>
  </const>

  <const name="ACDLongMaxCol" uType="count" type="int">
    <notes>Column number of last tile in a long row</notes>
    <minus>
      <refer refTo="numPerSideRowLong" />
      <const value="1" uType="count" />
    </minus>
  </const>



</derCategory>
