<!-- $Header: /nfs/slac/g/glast/ground/cvs/xmlGeoDbs/xml/cu06/cu06DerivedConstants.xml,v 1.5 2006/07/25 23:30:07 jrb Exp $ -->

      <derCategory name="cu06">
        <overview>specific to cu06 model</overview>

         <const name="LATGridFlangeLong_dt" >
          <notes>Transverse offset of LAT-wide grid flange pieces</notes>
          <half>
            <add>
              <refer refTo="NADGridFlangeOutsideWidth" />
              <refer refTo="towerPitch" />
            </add>
          </half>
        </const>
       
        
        <const name="LATGridFlangeLong_dtn" >
          <notes>Neg. transverse offset of LAT-wide grid flange pieces</notes>
          <uminus>
            <refer refTo="LATGridFlangeLong_dt" />
          </uminus>
        </const>
        
        
        <const name="LATGridWebLong_dt" >
          <notes>Transverse offset of LAT-wide grid web pieces</notes>
          <half>
            <add>
              <refer refTo="towerPitch" />
              <refer refTo="NADGridWebOutsideWidth" />
            </add>
          </half>
        </const>
        

        <const name="LATGridWebLong_dtn" >
          <notes>Neg. transverse offset of LAT-wide grid web pieces</notes>
          <uminus>
            <refer refTo="LATGridWebLong_dt" />
          </uminus>
        </const>

        <const name="oneNoTKRAbs_dz" >
          <notes>Z of CAL+grid w.r.t. Ritz origin.  Top of it is at Z=0</notes>
          <half>
            <uminus>
              <refer refTo="oneNoTKR_z" />
            </uminus>
          </half>
        </const>

        <const name="ISCCalZpFace_x" >
          <notes>X-dimension of Z+ face of cu06 container in front of 
           calorimeters only.  
           &lt;font color="red"&gt;This is based on guesses of a couple 
            primary constants!!&lt;/font&gt;
          </notes>
          <minus>
            <refer refTo="ISCCalYFace_x" />
            <refer refTo="ISCTkrYFace_x" />
          </minus>
        </const>

        <!-- for convenience.  Often need half of thicknesses -->
        <const name="ISCThinHalf">
          <notes>Half thickness for thin ISC panels</notes>
          <half><refer refTo="ISCThin" /></half>
        </const>
        <const name="ISCThickHalf">
          <notes>Half thickness for thick ISC panels</notes>
          <half><refer refTo="ISCThick" /></half>
        </const>

        <!-- for box on +X face of tracker 
          Stick it on the +X end of TkrZFace -->
        <const name="ISCTkrXp_dx">
          <notes>X position for isc box to +X side of tracker</notes>
          <add>
            <refer refTo="ISCTkrZp_dx" />
            <half>
              <add>
                <refer refTo="ISCTkrYFace_x" />
                <refer refTo="ISCThin" />
              </add>
            </half>
          </add>
        </const>

        <const name="ISCTkrX_dz">
          <notes>Z position for isc boxes to +X and -X side of trackers
               &lt;font color="red"&gt;Assume min Z is the same
               as for the trackers and that that is
               approx. calTrackerGap&lt;/font&gt;
          </notes>
          <add>
            <refer refTo="calTrackerGap" />
            <half>
              <refer refTo="ISCTkrYFace_z" />
            </half>
          </add>
        </const>

        <!-- for box on +X face of cals -->
        <const name="ISCCalXp_dx">
          <notes>X position for isc box to +X side of cals</notes>
          <half>
            <add>
              <refer refTo="ISCCalYFace_x" />
              <refer refTo="ISCThick" />
            </add>
          </half>
        </const>

        <!-- compute this from ISCTkrX_dz -->
        <const name="ISCCalX_dz">
          <notes>Z-displacement of container panels adjacent to CAL
                in +X and -X directions</notes>
          <minus>
            <refer refTo="ISCTkrX_dz" />
            <half>
              <add>
                <refer refTo="ISCTkrYFace_z" />
                <refer refTo="ISCCalYFace_z" />
              </add>
            </half>
          </minus>
        </const>

        <const name="ISCTkrXn_dx">
          <notes>X disp for isc box to -X side of trackers</notes>
          <minus>
            <refer refTo="ISCTkrXp_dx" />
            <add>
              <refer refTo="ISCTkrYFace_x" />
              <refer refTo="ISCThin" />
            </add>
          </minus>
        </const>

        <!-- ah, some symmetry! -->
        <const name="ISCCalXn_dx">
          <notes>X position for isc box to -X side of cals</notes>
          <uminus>
            <refer refTo="ISCCalXp_dx" />
          </uminus>
        </const>
<!--
        displacements for piece on +Z side of trackers.

           Calculate max x = max x for Cal +x side
 -->

        <const name="ISCTkrZp_dx">
          <notes>X disp for isc box to +Z side of trackers</notes>
          <half>
            <minus>
              <refer refTo="ISCCalYFace_x" />
              <refer refTo="ISCTkrYFace_x" />
            </minus>
          </half>
        </const>


        <const name="ISCTkrZp_dz">
          <notes>Z disp. for isc box to +Z side of trackers</notes>
          <add>
            <refer refTo="ISCTkrX_dz" />
            <half>
              <add>
                <refer refTo="ISCTkrYFace_z" />
                <refer refTo="ISCThin" />
              </add>
            </half>
          </add>
        </const>

        <!-- displacements for piece on +Z side of cals -->
        <const name="ISCCalZp_dx">
          <notes>X disp for isc box to +Z side of cals</notes>
          <minus>
            <refer refTo="ISCTkrZp_dx" />
            <half>
              <add>
                <refer refTo="ISCTkrYFace_x" />
                <refer refTo="ISCCalZpFace_x" />
              </add>
            </half>
          </minus>
        </const>

        <const name="ISCCalZp_dz">
          <notes>Z disp. for isc box to +Z side of cals</notes>
          <minus>
            <refer refTo="ISCTkrZp_dz" />
            <add>
              <refer refTo="ISCTkrYFace_z" />
              <refer refTo="ISCThin" />
            </add>
          </minus>

        </const>
        <!-- Z-displacement for piece on -Z side of cals. 
             x-displacement is zero so we don't have to do that one. -->
        <const name="ISCCalZn_dz">
          <notes>Z disp. for isc box to -Z side of cals</notes>
          <minus>
             <refer refTo="ISCCalX_dz" />
             <half>
               <add>
                 <refer refTo="ISCCalYFace_z" />
                 <refer refTo="ISCThick" />
               </add>
             </half>
           </minus>
         </const>

         <const name="ISCTkrYn_dy">
           <notes>y-disp of isc panel to -y side of tkrs (above)</notes>
           <uminus>
             <half>
               <add>
                 <refer refTo="ISCLateral" />
                 <refer refTo="ISCThin" />
               </add>
             </half>
           </uminus>
         </const>

         <const name="ISCTkrYp_dy">
           <notes>y-disp of isc panel to +y side of tkrs (below)</notes>
           <half>
             <add>
               <refer refTo="ISCLateral" />
               <refer refTo="ISCThick" />
             </add>
           </half>
         </const>


         <const name="ISCCalYp_dy">
           <notes>y-disp of isc panel to +y side of cals (below)</notes>
           <half>
             <add>
               <refer refTo="ISCLateral" />
               <refer refTo="ISCThick" />
             </add>
           </half>
         </const>

         <const name="ISCCalYn_dy">
           <notes>y-disp of isc panel to -y side of cals (above)</notes>
           <uminus>
             <refer refTo="ISCCalYp_dy" />
           </uminus>
         </const>

<!-- ACD tile displacements -->
        <const name="ACDTile_000_dz" >
          <notes>z-displacement of tile 000, computed from position of
                front container face, adding in standoff from
                ACD_tiles_final_position.pdf</notes>
          <add>
            <refer refTo="ISCTkrZp_dz" />
            <refer refTo="ACDTopTileStandoff" />
            <half>
              <add>
                <refer refTo="tileThickness" />
                <refer refTo="ISCThin" />
              </add>
            </half>
          </add>
        </const>
        <const name="ACDTile_000_dx" >
          <notes>x-displacement of tile 000, computed from position of
                front container face. Min x for top tile should equal
                min X for Z face of container:
                tile_dx - 1/2 tileX = face_dx - 1/2 faceX
          </notes>
          <add>
            <refer refTo="ISCTkrZp_dx" />
            <half>
              <minus>
                <refer refTo="ACDTileMHeight" />
                <refer refTo="ISCTkrYFace_x" />
              </minus>
            </half>
          </add>
        </const>


        <const name="ACDTile_100_dy" >
          <notes>y-displacement of tile 100 (on -X face)</notes>
          <refer refTo="ACDTile_000_dy" />
        </const>

        <const name="ACDTile_110_dy" >
          <notes>y-displacement of tile 110 (on -X face)</notes>
          <refer refTo="ACDTile_000_dy" />
        </const>

        <const name="ACDTile_120_dy" >
          <notes>y-displacement of tile 120 (on -X face)</notes>
          <refer refTo="ACDTile_000_dy" />
        </const>

        <const name="ACDTile_130_dy" >
          <notes>y-displacement of tile 130 (on -X face)</notes>
          <refer refTo="ACDTile_000_dy" />
        </const>

        <const name="ACDTile_100_dx" >
           <notes> x-displacement of tile 100 (on -X face).
                  Computed from location of  ISCTkrXFace and
                  standoff </notes>
           <minus>
             <refer refTo="ISCTkrXn_dx" />
             <add>
               <refer refTo="tileHalfThickness" />
               <refer refTo="ISCThinHalf" />
               <refer refTo="ACDSideTileStandoffLg" />
             </add>
           </minus>
         </const>

        <const name="ACDTile_110_dx" >
           <notes> x-displacement of tile 110 (on -X face).</notes>
           <minus>
             <refer refTo="ISCTkrXn_dx" />
             <add>
               <refer refTo="tileHalfThickness" />
               <refer refTo="ISCThinHalf" />
               <refer refTo="ACDSideTileStandoffSm" />
             </add>
           </minus>

        </const>

        <const name="ACDTile_120_dx" >
           <notes> x-displacement of tile 120 (on -X face).</notes>
           <refer refTo="ACDTile_110_dx" />
        </const>

        <const name="ACDTile_130_dx" >
           <notes> x-displacement of tile 130 (on -X face).</notes>
           <refer refTo="ACDTile_110_dx" />
        </const>

        <const name="ACDTile_100_dz" >
           <notes> z-displacement of tile 100 (on -X face).
                  Computed from location of  ISCTkrZFace.
                  Appears to stick up by about 1/2 tile thickness </notes>
           <minus>
             <add>
               <refer refTo="ISCTkrZp_dz" />
               <refer refTo="tileHalfThickness" />
             </add>
             <half>
               <add>
                 <refer refTo="ISCThin" />
                 <refer refTo="ACDTileMHeight" />
               </add>
             </half>
           </minus>
         </const>

        <const name="ACDTile_110_dz" >
           <notes> z-displacement of tile 110 (on -X face).
                  Computed from location of tile 'above' (100) </notes>
           <minus>
             <add>
               <refer refTo="ACDTile_100_dz" />
               <refer refTo="ACDOverlapRow0_1" />
             </add>
             <refer refTo="ACDTileMHeight" />
           </minus>
        </const>


        <const name="ACDTile_120_dz" >
           <notes> z-displacement of tile 120 (on -X face).
                  Computed from location of tile 'above' (110) </notes>
           <minus>
             <refer refTo="ACDTile_110_dz" />
             <half>
               <add>
                 <refer refTo="ACDTileMHeight" />
                 <refer refTo="ACDTileSHeight" />
               </add>
             </half>
           </minus>
         </const>

        <const name="ACDTile_130_dz" >
           <notes> z-displacement of tile 130 (on -X face).
                  Computed from location of tile 'above' (120) </notes>
           <minus>
             <refer refTo="ACDTile_120_dz" />
             <refer refTo="ACDTileSHeight" />
           </minus>
         </const>

<!--
        <const name="ACDTile_200_dx" >
          <notes> x-displacement of tile 200 (on -Y face) is
             computed from location of -X face of ISC
          </notes>
          <add>
            <refer refTo="ISCTkrXn_dx" />
            <half>
              <add>
                <refer refTo="ACDTileMTrans" />
                <refer refTo="ISCThin" />
              </add>
            </half>
          </add>
       </const>

        <const name="ACDTile_200_dy" >
          <notes> y-displacement of tile 200 (on -Y face) is
             computed from y-disp of  location of -Y face of ISC
          </notes>
          <minus>
            <refer refTo="ISCTkrYn_dy" />
            <half>
              <add>
                <refer refTo="tileThickness" />
                <refer refTo="ISCThin" />
              </add>
            </half>
          </minus>
        </const>

        <const name="ACDTile_200_dz" >
          <notes> z-displacement of tile 200 (on -Y face) is same
                  as 100 on -X face.</notes>
          <refer refTo="ACDTile_100_dz" />
        </const>
-->
      </derCategory>














